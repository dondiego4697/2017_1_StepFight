var Application=function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=137)}([function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(11),s=function(t){return t&&t.__esModule?t:{default:t}}(r),a=function(){function t(){i(this,t),this.http=new s.default,this.url=this.http.BaseUrl}return o(t,[{key:"getUser",value:function(){var t=this,e=this.url+"/user/get";return new Promise(function(n,i){t._createRequest(e,null,"GET",null).then(function(t){n(t.user)}).catch(function(t){i(t)})})}},{key:"login",value:function(t){var e=this,n=this.url+"/user/login",i={"Content-Type":"application/json"};return new Promise(function(o,r){e._createRequest(n,i,"POST",t).then(function(t){o(t.user)}).catch(function(t){r(t)})})}},{key:"signup",value:function(t){var e=this,n=this.url+"/user/signup",i={"Content-Type":"application/json"};return new Promise(function(o,r){e._createRequest(n,i,"POST",t).then(function(t){o(t)}).catch(function(t){r(t?{result:"error"}:{result:"no-conn"})})})}},{key:"getLeaders",value:function(){var t=this,e=this.url+"/user/leaders";return new Promise(function(n,i){t._createRequest(e,null,"GET",null).then(function(t){n(t)}).catch(function(t){i(t)})})}},{key:"logOutUser",value:function(){var t=this,e=this.url+"/user/logout";return new Promise(function(n,i){t._createRequest(e,null,"GET",null).then(function(t){n(t)}).catch(function(t){i(t)})})}},{key:"_createRequest",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=this.http;return new Promise(function(r,s){o.request(t,e,n,i).then(function(t){"200 OK"===t.status?r(t):s(t)}).catch(function(t){console.error(t.status),s({})})})}}]),t}();e.default=a},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(126);var r=function(){function t(e){i(this,t),this.node=e}return o(t,[{key:"renderView",value:function(){document.getElementById("start-loader")&&document.getElementById("start-loader").remove(),this.node.classList.remove("fadeOut"),this.node.classList.add("fadeIn")}},{key:"destroyView",value:function(){for(this.node.classList.remove("fadeIn"),this.node.classList.add("fadeOut");this.node.firstChild;)this.node.removeChild(this.node.firstChild)}}]),t}();e.default=r},,,function(t,e,n){(function(n){var i,o,r;!function(n,s){o=[],i=s(n),void 0!==(r="function"==typeof i?i.apply(e,o):i)&&(t.exports=r)}(void 0!==n?n:this.window||this.global,function(t){"use strict";var e={},n=(document.querySelector("body"),!!/Mobi/.test(navigator.userAgent)),i=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),o="undefined"!=typeof InstallTrigger,r="ontouchstart"in document.documentElement,s=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],a={info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-check"},warning:{color:"yellow",icon:"ico-warning"},error:{color:"red",icon:"ico-error"}},l={},c={class:"",title:"",titleColor:"",message:"",messageColor:"",backgroundColor:"",color:"",icon:"",iconText:"",iconColor:"",image:"",imageWidth:50,zindex:99999,layout:1,balloon:!1,close:!0,rtl:!1,position:"bottomRight",target:"",targetFirst:!0,timeout:5e3,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",animateInside:!0,buttons:{},transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",onOpen:function(){},onClose:function(){}};"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var u=function(t,e,n){if("[object Object]"===Object.prototype.toString.call(t))for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(n,t[i],i,t);else if(t)for(var o=0,r=t.length;o<r;o++)e.call(n,t[o],o,t)},h=function(t,e){var n={};return u(t,function(e,i){n[i]=t[i]}),u(e,function(t,i){n[i]=e[i]}),n},d=function(t){var e=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=t;n.firstChild;)e.appendChild(n.firstChild);return e},p=function(t){return"#"==t.substring(0,1)||"rgb"==t.substring(0,3)||"hsl"==t.substring(0,3)},f=function(){return{move:function(t,e,n,r){var s;t.style.transform="translateX("+r+"px)",r>0?(s=(180-r)/180)<.3&&e.hide(h(n,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),t,"drag"):(s=(180+r)/180)<.3&&e.hide(h(n,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),t,"drag"),t.style.opacity=s,s<.3&&((i||o)&&(t.style.left=r+"px"),t.parentNode.style.opacity=.3,this.stopMoving(t,null))},startMoving:function(t,e,n,i){i=i||window.event;var o=r?i.touches[0].clientX:i.clientX,s=t.style.transform.replace("px)","");s=s.replace("translateX(","");var a=o-s;t.classList.remove(n.transitionIn),t.classList.remove(n.transitionInMobile),t.style.transition="",r?document.ontouchmove=function(i){i.preventDefault(),i=i||window.event;var o=i.touches[0].clientX,r=o-a;f.move(t,e,n,r)}:document.onmousemove=function(i){i.preventDefault(),i=i||window.event;var o=i.clientX,r=o-a;f.move(t,e,n,r)}},stopMoving:function(t,e){r?document.ontouchmove=function(){}:document.onmousemove=function(){},t.style.transition="transform 0.4s ease, opacity 0.4s ease",t.style.opacity="",t.style.transform="",window.setTimeout(function(){t.style.transition=""},400)}}}(),m=function(t,e,n){var i=!1,o=!1,r=!1,s=null,a=t.querySelector(".iziToast-progressbar div"),l={hideEta:null,maxHideTime:null,currentTime:(new Date).getTime(),updateProgress:function(){if(i=!!t.classList.contains("iziToast-paused"),o=!!t.classList.contains("iziToast-reseted"),r=!!t.classList.contains("iziToast-closed"),o&&(clearTimeout(s),a.style.width="100%",m(t,e,n),t.classList.remove("iziToast-reseted")),r&&(clearTimeout(s),t.classList.remove("iziToast-closed")),!i&&!o&&!r){l.currentTime=l.currentTime+10;var c=(l.hideEta-l.currentTime)/l.maxHideTime*100;a.style.width=c+"%",(Math.round(c)<0||"object"!=typeof t)&&(clearTimeout(s),n.apply())}}};e.timeout>0&&(l.maxHideTime=parseFloat(e.timeout),l.hideEta=(new Date).getTime()+l.maxHideTime,s=setInterval(l.updateProgress,10))};return e.destroy=function(){u(document.querySelectorAll(".iziToast-wrapper"),function(t,e){t.remove()}),u(document.querySelectorAll(".iziToast"),function(t,e){t.remove()}),document.removeEventListener("iziToast-open",{},!1),document.removeEventListener("iziToast-close",{},!1),l={}},e.settings=function(t){e.destroy(),l=t,c=h(c,t||{})},u(a,function(t,n){e[n]=function(e){var n=h(l,e||{});n=h(t,n||{}),this.show(n)}}),e.hide=function(t,e,i){var o=h(c,t||{});i=i||!1,"object"!=typeof e&&(e=document.querySelector(e)),e.classList.add("iziToast-closed"),(o.transitionIn||o.transitionInMobile)&&(e.classList.remove(o.transitionIn),e.classList.remove(o.transitionInMobile)),n||window.innerWidth<=568?o.transitionOutMobile&&e.classList.add(o.transitionOutMobile):o.transitionOut&&e.classList.add(o.transitionOut);var r=e.parentNode.offsetHeight;if(e.parentNode.style.height=r+"px",e.style.pointerEvents="none",(!n||window.innerWidth>568)&&(e.parentNode.style.transitionDelay="0.2s"),setTimeout(function(){e.parentNode.style.height="0px",e.parentNode.style.overflow="",window.setTimeout(function(){e.parentNode.remove()},1e3)},200),o.class)try{var s;window.CustomEvent?s=new CustomEvent("iziToast-close",{detail:{class:o.class}}):(s=document.createEvent("CustomEvent"),s.initCustomEvent("iziToast-close",!0,!0,{class:o.class})),document.dispatchEvent(s)}catch(t){console.warn(t)}void 0!==o.onClose&&o.onClose.apply(null,[o,e,i])},e.show=function(t){var e=this,i=h(l,t||{});i=h(c,i);var o=document.createElement("div");o.classList.add("iziToast-capsule");var a=document.createElement("div");if(a.classList.add("iziToast"),n||window.innerWidth<=568?i.transitionInMobile.length>0&&a.classList.add(i.transitionInMobile):i.transitionIn.length>0&&a.classList.add(i.transitionIn),i.rtl&&a.classList.add("iziToast-rtl"),i.color.length>0&&(p(i.color)?a.style.background=i.color:a.classList.add("iziToast-color-"+i.color)),i.backgroundColor.length>0&&(a.style.background=i.backgroundColor),i.class&&a.classList.add(i.class),i.image){var v=document.createElement("div");v.classList.add("iziToast-cover"),v.style.width=i.imageWidth+"px",v.style.backgroundImage="url("+i.image+")",a.appendChild(v)}var g;if(i.close?(g=document.createElement("button"),g.classList.add("iziToast-close"),a.appendChild(g)):i.rtl?a.style.paddingLeft="30px":a.style.paddingRight="30px",i.progressBar){var y=document.createElement("div");y.classList.add("iziToast-progressbar");var b=document.createElement("div");b.style.background=i.progressBarColor,y.appendChild(b),a.appendChild(y),setTimeout(function(){m(a,i,function(){e.hide(i,a)})},300)}else!1===i.progressBar&&i.timeout>0&&setTimeout(function(){e.hide(i,a)},i.timeout);var _=document.createElement("div");if(_.classList.add("iziToast-body"),i.image&&(i.rtl?_.style.marginRight=i.imageWidth+10+"px":_.style.marginLeft=i.imageWidth+10+"px"),i.icon){var k=document.createElement("i");k.setAttribute("class","iziToast-icon "+i.icon),i.iconText&&k.appendChild(document.createTextNode(i.iconText)),i.rtl?_.style.paddingRight="33px":_.style.paddingLeft="33px",i.iconColor&&(k.style.color=i.iconColor),_.appendChild(k)}var w=document.createElement("strong");i.titleColor.length>0&&(w.style.color=i.titleColor),w.appendChild(d(i.title));var E=document.createElement("p");i.messageColor.length>0&&(E.style.color=i.messageColor),E.appendChild(d(i.message)),i.layout>1&&a.classList.add("iziToast-layout"+i.layout),i.balloon&&a.classList.add("iziToast-balloon"),_.appendChild(w),_.appendChild(E);var S;if(i.buttons.length>0){S=document.createElement("div"),S.classList.add("iziToast-buttons"),E.style.marginRight="15px";var P=0;u(i.buttons,function(t,n){S.appendChild(d(t[0])),S.childNodes[P].addEventListener("click",function(n){return n.preventDefault(),new(0,t[1])(e,a)}),P++}),_.appendChild(S)}a.appendChild(_),o.style.visibility="hidden",o.appendChild(a),setTimeout(function(){var t=a.offsetHeight,e=a.currentStyle||window.getComputedStyle(a),n=e.marginTop;n=n.split("px"),n=parseInt(n[0]);var r=e.marginBottom;r=r.split("px"),r=parseInt(r[0]),o.style.visibility="",o.style.height=t+r+n+"px",setTimeout(function(){o.style.height="auto",i.target&&(o.style.overflow="visible")},1e3)},100);var C,x=i.position;if(i.target)C=document.querySelector(i.target),C.classList.add("iziToast-target"),i.targetFirst?C.insertBefore(o,C.firstChild):C.appendChild(o);else{if(-1==s.indexOf(i.position))return void console.warn("[iziToast] Incorrect position.\nIt can be › "+s);x=n||window.innerWidth<=568?"bottomLeft"==i.position||"bottomRight"==i.position||"bottomCenter"==i.position?"iziToast-wrapper-bottomCenter":"topLeft"==i.position||"topRight"==i.position||"topCenter"==i.position?"iziToast-wrapper-topCenter":"iziToast-wrapper-center":"iziToast-wrapper-"+x,C=document.querySelector(".iziToast-wrapper."+x),C||(C=document.createElement("div"),C.classList.add("iziToast-wrapper"),C.classList.add(x),document.body.appendChild(C)),"topLeft"==i.position||"topCenter"==i.position||"topRight"==i.position?C.insertBefore(o,C.firstChild):C.appendChild(o)}isNaN(i.zindex)?console.warn("[iziToast] Invalid zIndex."):C.style.zIndex=i.zindex,i.onOpen.apply(null,[i,a]);try{var A;window.CustomEvent?A=new CustomEvent("iziToast-open",{detail:{class:i.class}}):(A=document.createEvent("CustomEvent"),A.initCustomEvent("iziToast-open",!0,!0,{class:i.class})),document.dispatchEvent(A)}catch(t){console.warn(t)}if(i.animateInside){a.classList.add("iziToast-animateInside");var O=200,T=100,L=300;if("bounceInLeft"==i.transitionIn&&(O=400,T=200,L=400),window.setTimeout(function(){w.classList.add("slideIn")},O),window.setTimeout(function(){E.classList.add("slideIn")},T),i.icon&&window.setTimeout(function(){k.classList.add("revealIn")},L),i.buttons.length>0&&S){var B=150;u(S.childNodes,function(t,e){window.setTimeout(function(){t.classList.add("revealIn")},B),B+=B})}}g&&g.addEventListener("click",function(t){t.target;e.hide(i,a,"button")}),i.pauseOnHover&&(a.addEventListener("mouseenter",function(t){this.classList.add("iziToast-paused")}),a.addEventListener("mouseleave",function(t){this.classList.remove("iziToast-paused")})),i.resetOnHover&&(a.addEventListener("mouseenter",function(t){this.classList.add("iziToast-reseted")}),a.addEventListener("mouseleave",function(t){this.classList.remove("iziToast-reseted")})),i.drag&&(r?(a.addEventListener("touchstart",function(t){f.startMoving(this,e,i,t)},!1),a.addEventListener("touchend",function(t){f.stopMoving(this,t)},!1)):(a.addEventListener("mousedown",function(t){t.preventDefault(),f.startMoving(this,e,i,t)},!1),a.addEventListener("mouseup",function(t){t.preventDefault(),f.stopMoving(this,t)},!1)))},e})}).call(e,n(14))},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){i(this,t),this.hit={method:null,target:null},this.block={method:null}}return o(t,[{key:"init",value:function(t,e,n){this.hit.method=t,this.hit.target=e,this.block.method=n}},{key:"checkOnEmpty",value:function(){if(null!==this.hit.method&&null!==this.hit.target&&null!==this.block.method)return!0}}]),t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){return RegExp(" "+e+" ").test(" "+t.className+" ")},o=function(t,e){i(t,e)||(t.className+=" "+e)},r=function(t,e){var n=" "+t.className.replace(/[\t\r\n]/g," ")+" ";if(i(t,e)){for(;n.indexOf(" "+e+" ")>=0;)n=n.replace(" "+e+" "," ");t.className=n.replace(/^\s+|\s+$/g,"")}},s=function(t){var e=document.createElement("div");return e.appendChild(document.createTextNode(t)),e.innerHTML},a=function(t){t.style.opacity="",t.style.display="block"},l=function(t){if(t&&!t.length)return a(t);for(var e=0;e<t.length;++e)a(t[e])},c=function(t){t.style.opacity="",t.style.display="none"},u=function(t){if(t&&!t.length)return c(t);for(var e=0;e<t.length;++e)c(t[e])},h=function(t,e){for(var n=e.parentNode;null!==n;){if(n===t)return!0;n=n.parentNode}return!1},d=function(t){t.style.left="-9999px",t.style.display="block";var e,n=t.clientHeight;return e="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(t).getPropertyValue("padding-top"),10):parseInt(t.currentStyle.padding),t.style.left="",t.style.display="none","-"+parseInt((n+e)/2)+"px"},p=function(t,e){if(+t.style.opacity<1){e=e||16,t.style.opacity=0,t.style.display="block";var n=+new Date,i=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return""+t},e}(function(){t.style.opacity=+t.style.opacity+(new Date-n)/100,n=+new Date,+t.style.opacity<1&&setTimeout(i,e)});i()}t.style.display="block"},f=function(t,e){e=e||16,t.style.opacity=1;var n=+new Date,i=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return""+t},e}(function(){t.style.opacity=+t.style.opacity-(new Date-n)/100,n=+new Date,+t.style.opacity>0?setTimeout(i,e):t.style.display="none"});i()},m=function(t){if("function"==typeof MouseEvent){var e=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0});t.dispatchEvent(e)}else if(document.createEvent){var n=document.createEvent("MouseEvents");n.initEvent("click",!1,!1),t.dispatchEvent(n)}else document.createEventObject?t.fireEvent("onclick"):"function"==typeof t.onclick&&t.onclick()},v=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):window.event&&window.event.hasOwnProperty("cancelBubble")&&(window.event.cancelBubble=!0)};e.hasClass=i,e.addClass=o,e.removeClass=r,e.escapeHtml=s,e._show=a,e.show=l,e._hide=c,e.hide=u,e.isDescendant=h,e.getTopMargin=d,e.fadeIn=p,e.fadeOut=f,e.fireClick=m,e.stopEventPropagation=v},function(t,e){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t+=""),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t+=""),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return g.iterable&&(e[Symbol.iterator]=function(){return e}),e}function o(t){this.map={},t instanceof o?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function r(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function s(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function a(t){var e=new FileReader,n=s(e);return e.readAsArrayBuffer(t),n}function l(t){var e=new FileReader,n=s(e);return e.readAsText(t),n}function c(t){for(var e=new Uint8Array(t),n=Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}function u(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(g.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(g.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=""+t;else if(g.arrayBuffer&&g.blob&&b(t))this._bodyArrayBuffer=u(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!_(t))throw Error("unsupported BodyInit type");this._bodyArrayBuffer=u(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var t=r(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?r(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var t=r(this);if(t)return t;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(t){var e=t.toUpperCase();return k.indexOf(e)>-1?e:t}function p(t,e){e=e||{};var n=e.body;if(t instanceof p){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new o(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=t+"";if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new o(e.headers)),this.method=d(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function f(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(o))}}),e}function m(t){var e=new o;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var o=n.join(":").trim();e.append(i,o)}}),e}function v(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new o(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var g={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(g.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(t){return t&&DataView.prototype.isPrototypeOf(t)},_=ArrayBuffer.isView||function(t){return t&&y.indexOf(Object.prototype.toString.call(t))>-1};o.prototype.append=function(t,i){t=e(t),i=n(i);var o=this.map[t];this.map[t]=o?o+","+i:i},o.prototype.delete=function(t){delete this.map[e(t)]},o.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},o.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},o.prototype.set=function(t,i){this.map[e(t)]=n(i)},o.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},o.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),i(t)},o.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),i(t)},o.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),i(t)},g.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];p.prototype.clone=function(){return new p(this,{body:this._bodyInit})},h.call(p.prototype),h.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];v.redirect=function(t,e){if(-1===w.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},t.Headers=o,t.Request=p,t.Response=v,t.fetch=function(t,e){return new Promise(function(n,i){var o=new p(t,e),r=new XMLHttpRequest;r.onload=function(){var t={status:r.status,statusText:r.statusText,headers:m(r.getAllResponseHeaders()||"")};t.url="responseURL"in r?r.responseURL:t.headers.get("X-Request-URL");var e="response"in r?r.response:r.responseText;n(new v(e,t))},r.onerror=function(){i(new TypeError("Network request failed"))},r.ontimeout=function(){i(new TypeError("Network request failed"))},r.open(o.method,o.url,!0),"include"===o.credentials&&(r.withCredentials=!0),"responseType"in r&&g.blob&&(r.responseType="blob"),o.headers.forEach(function(t,e){r.setRequestHeader(e,t)}),r.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(99);var r=function(){function t(){i(this,t),this.el=document.createElement("div")}return o(t,[{key:"getElem",value:function(){return this.el.setAttribute("class","loader"),this.el}},{key:"getElemParent",value:function(){return this.el.setAttribute("class","loader_parent"),this.el}}]),t}();e.default=r},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),r=n(6),s=n(27),a=i(s),l=n(132),c=i(l),u=function(){var t=document.createElement("div");for(t.innerHTML=c.default;t.firstChild;)document.body.appendChild(t.firstChild)},h=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return""+t},e}(function(){var t=document.querySelector(".sweet-alert");return t||(u(),t=h()),t}),d=function(){var t=h();if(t)return t.querySelector("input")},p=function(){return document.querySelector(".sweet-overlay")},f=function(t,e){var n=o.hexToRgb(e);t.style.boxShadow="0 0 2px rgba("+n+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},m=function(t){var e=h();r.fadeIn(p(),10),r.show(e),r.addClass(e,"showSweetAlert"),r.removeClass(e,"hideSweetAlert"),window.previousActiveElement=document.activeElement,e.querySelector("button.confirm").focus(),setTimeout(function(){r.addClass(e,"visible")},500);var n=e.getAttribute("data-timer");if("null"!==n&&""!==n){var i=t;e.timeout=setTimeout(function(){(i||null)&&"true"===e.getAttribute("data-has-done-function")?i(null):sweetAlert.close()},n)}},v=function(){var t=h(),e=d();r.removeClass(t,"show-input"),e.value=a.default.inputValue,e.setAttribute("type",a.default.inputType),e.setAttribute("placeholder",a.default.inputPlaceholder),g()},g=function(t){if(t&&13===t.keyCode)return!1;var e=h(),n=e.querySelector(".sa-input-error");r.removeClass(n,"show");var i=e.querySelector(".sa-error-container");r.removeClass(i,"show")},y=function(){h().style.marginTop=r.getTopMargin(h())};e.sweetAlertInitialize=u,e.getModal=h,e.getOverlay=p,e.getInput=d,e.setFocusStyle=f,e.openModal=m,e.resetInput=v,e.resetInputError=g,e.fixVerticalPosition=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},o=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?parseInt(e[1],16)+", "+parseInt(e[2],16)+", "+parseInt(e[3],16):null},r=function(){return window.attachEvent&&!window.addEventListener},s=function(t){window.console&&window.console.log("SweetAlert: "+t)},a=function(t,e){t=(t+"").replace(/[^0-9a-f]/gi,""),t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0;var n,i,o="#";for(i=0;i<3;i++)n=parseInt(t.substr(2*i,2),16),n=Math.round(Math.min(Math.max(0,n+n*e),255)).toString(16),o+=("00"+n).substr(n.length);return o};e.extend=i,e.hexToRgb=o,e.isIE8=r,e.logStr=s,e.colorLuminance=a},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){if(i(this,t),t.instance)return t.instance;this._baseUrl="https://sf-server.herokuapp.com/api",t.instance=this}return o(t,[{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o={method:n,mode:"cors",headers:e,credentials:"include"};return i&&(o.body=JSON.stringify(i)),new Promise(function(e,n){fetch(t,o).then(function(t){return t.json()}).then(function(t){e(t)}).catch(function(t){n({}),console.error(t||t.statusText)})})}},{key:"BaseUrl",get:function(){return this._baseUrl},set:function(t){this._baseUrl=t}}]),t}();e.default=r},,,function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(30),a=i(s),l=n(31),c=i(l);n(89),n(85),n(87),n(88);var u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}};o(this,t),this.data=e.data,this.el=document.createElement("form"),this.fields=[],this.controls=[],this._render()}return r(t,[{key:"_render",value:function(){this._setAttributes(this.data.form.attrs,this.el);var t=document.createElement(this.data.title.type);this._setAttributes(this.data.title.attrs,t),t.innerHTML=this.data.title.text,this.el.appendChild(t),this.fields=this._getFields(),this.controls=this._getControls(),this._fieldsAppendTo(this.fields,this.el),this._controlsAppendTo(this.controls,this.el)}},{key:"getElem",value:function(){return this}},{key:"_getFields",value:function(){var t=this.data.fields;return(void 0===t?[]:t).map(function(t){return new c.default(t).getElem()})}},{key:"_setAttributes",value:function(t,e){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}},{key:"_fieldsAppendTo",value:function(t,e){t.forEach(function(t){e.appendChild(t.el),e.appendChild(t.help_el)})}},{key:"_controlsAppendTo",value:function(t,e){t.forEach(function(t){e.appendChild(t.el)})}},{key:"_getControls",value:function(){var t=this.data.controls;return(void 0===t?[]:t).map(function(t){return new a.default(t).getElem()})}},{key:"getFormData",value:function(){var t=this.el.elements,e={};return Object.keys(t).forEach(function(n){var i=t[n].name,o=t[n].value;i&&(e[i]=o)}),e}}]),t}();e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(4),a=i(s),l=n(5),c=i(l),u=function(){function t(e){o(this,t),this.manager=e,this.myStep=new c.default}return r(t,[{key:"gameLoop",value:function(){this.me.health<=0&&this.animationDone?(this.finishGameLoop(),this.manager.finish({win:!1,object:this.me},{win:!0,object:this.opponent})):this.opponent.health<=0&&this.animationDone&&(this.finishGameLoop(),this.manager.finish({win:!0,object:this.me},{win:!1,object:this.opponent}))}},{key:"startGameLoop",value:function(){var t=this;this.inteval=setInterval(function(){return t.gameLoop()},100),this.initDoStepListener(),this.initActionListener()}},{key:"initActionListener",value:function(){var t=this;this.manager.view.gameControls.initActionListener(function(e){if(null!==e&&void 0!==e){t.myStep=e,t.manager.view.gameControls.buttonAddAction.classList.remove("game-controls__action-button_empty"),t.manager.view.gameControls.buttonAddAction.classList.add("game-controls__action-button_fill");var n="hit by "+e.hit.method+" to "+e.hit.target+" and block "+e.block.method;t.manager.view.gameControls.buttonAddAction.innerText=n}})}},{key:"initDoStepListener",value:function(){var t=this;this.manager.view.gameControls.initDoStepListener(function(){t.checkMyStep()?t.sendStep():a.default.error({title:"Fill action buttons",position:"topCenter"})})}},{key:"sendStep",value:function(){var t=this.myStep,e={method:t.hit.method,target:t.hit.target,block:t.block.method,hp:this.me.health,id:this.manager._gameId,type:"step"};try{console.group("Отправленные данные:"),console.warn(JSON.stringify(e)),console.groupEnd(),this.manager.ws.send(JSON.stringify(e)),this.manager.view.gameControls.setButtonStepStatus(!1)}catch(t){console.error(t)}}},{key:"stepAnalyze",value:function(t,e,n,i,o,r){function s(){var i=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:"block",target:t.block.method,method:e.hit.method,result:!1},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:"hit",target:e.hit.target,method:e.hit.method,result:!0};return new Promise(function(t){0!==n?(i.manager.scene.playerMe.play(r).then(function(){}),i.manager.scene.playerOpponent.play(s).then(function(){t()}),i._logStep(!0,"red","I missed hit by "+e.hit.method+" to "+e.hit.target)):(r.result=!0,s.result=!1,i.manager.scene.playerMe.play(r).then(function(){}),i.manager.scene.playerOpponent.play(s).then(function(){t()}),i._logStep(!0,"blue","Everything okey with ME!")),i._updateMyHealth(o)})}function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{action:"hit",target:t.hit.target,method:t.hit.method,result:!0},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{action:"block",target:e.block.method,method:t.hit.method,result:!1};0!==i?(this.manager.scene.playerMe.play(n).then(function(){}),this.manager.scene.playerOpponent.play(o).then(function(){}),this._logStep(!1,"red","Opponent missed hit by "+t.hit.method+" to "+t.hit.target),this.animationDone=!0):(n.result=!1,o.result=!0,this.manager.scene.playerMe.play(n).then(function(){}),this.manager.scene.playerOpponent.play(o).then(function(){}),this._logStep(!1,"blue","Everything okey with OPPONENT!"),this.animationDone=!0),this._updateOpponentHealth(r)}this.clearMyActionStep(),this.animationDone=!1;var l=s.bind(this),c=a.bind(this),u=this.checkOnNullStep(t),h=this.checkOnNullStep(e);u&&!h?l({action:"block",target:e.hit.target,method:e.hit.method,result:!1},{action:"hit",target:e.hit.target,method:e.hit.method,result:!0}):!u&&h?c({action:"hit",target:t.hit.target,method:t.hit.method,result:!0},{action:"block",target:t.hit.target,method:t.hit.method,result:!1}):l().then(function(){c()})}},{key:"checkOnNullStep",value:function(t){var e=!1;return Object.keys(t.hit).forEach(function(n){"null"===t.hit[n]&&(e=!0)}),Object.keys(t.block).forEach(function(n){"null"===t.hit[n]&&(e=!0)}),e}},{key:"_logStep",value:function(t,e,n){var i=t?"topLeft":"topRight";switch(e){case"red":a.default.error({title:n,position:i,timeout:5e3,icon:""});break;case"blue":a.default.success({title:n,position:i,timeout:5e3,icon:""})}}},{key:"_updateOpponentHealth",value:function(t){this.opponent.health=t,this.manager.scene.opponentInfo.updateHealth(t)}},{key:"_updateMyHealth",value:function(t){this.me.health=t,this.manager.scene.myInfo.updateHealth(t)}},{key:"checkMyStep",value:function(){return!(null===this.myStep||void 0===this.myStep||null===this.myStep.hit.method||null===this.myStep.hit.target||null===this.myStep.block.method)}},{key:"clearMyActionStep",value:function(){this.myStep=null,this.manager.view.gameControls.buttonAddAction.classList.remove("game-controls__action-button_fill"),this.manager.view.gameControls.buttonAddAction.classList.add("game-controls__action-button_empty"),this.manager.view.gameControls.buttonAddAction.innerText="add action"}},{key:"finishGameLoop",value:function(){clearInterval(this.inteval),this.manager.view.gameControls.deleteDoStepListener(),this.manager.view.gameControls.deleteActionListener()}},{key:"setPlayers",value:function(t,e){this.me=t,this.me.health=100,this.opponent=e,this.opponent.health=100,this.manager.scene.setPlayers(t,e)}}]),t}();e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(48),a=i(s),l=n(44),c=i(l),u=function(){function t(){o(this,t),this.urlsObj=new a.default,this.gameStatesObj=new c.default,this.objUser=null,t.__instance=this}return r(t,[{key:"user",set:function(t){this.objUser=t},get:function(){return this.objUser}},{key:"urls",get:function(){return this.urlsObj}},{key:"gameStates",get:function(){return this.gameStatesObj}}]),t}(),h=new u;e.default=h},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){i(this,t)}return o(t,null,[{key:"_checkLatin",value:function(t){return null===t.match(/[а-яА-ЯёЁ]+/)}},{key:"checkLogin",value:function(t){var e=this,n=[];return this._checkLatin(t.field.value)||n.push({err_text:"Only Latin"}),t.field.value.length<4&&n.push({err_text:"4 - min length"}),t.help.textContent="",n.forEach(function(n){e.fieldSetErr(t.field),e.fieldRemoveOk(t.field),""===t.help.textContent?t.help.textContent=n.err_text:(t.help.textContent=t.help.textContent+","+n.err_text,console.log(t.help.textContent))}),0===n.length&&this.fieldSetOk(t.field),0===n.length}},{key:"_checkPassLength",value:function(t){return t.length>=8}},{key:"_checkPassEquals",value:function(t,e){return t===e}},{key:"checkEmpty",value:function(t){return 0===t.length}},{key:"checkPassword",value:function(t,e){var n=this,i=[];return this._checkPassLength(t.field.value)||i.push({err_text:"8 - min length",field:t.field,help:t.help}),this._checkPassEquals(t.field.value,e.field.value)||(i.push({err_text:"Passwords not equals",field:t.field,help:t.help}),i.push({err_text:"Passwords not equals",field:e.field,help:e.help})),t.help.textContent="",e.help.textContent="",i.forEach(function(t){n.fieldSetErr(t.field),n.fieldRemoveOk(t.field),""===t.help.textContent?t.help.textContent=t.err_text:t.help.textContent=t.help.textContent+"."+t.err_text}),0===i.length&&(this.fieldSetOk(t.field),this.fieldSetOk(e.field)),0===i.length}},{key:"helpSetText",value:function(t,e){t.textContent=e}},{key:"fieldSetText",value:function(t,e){t.value=e}},{key:"fieldSetErr",value:function(t){t.classList.add("form__input_error")}},{key:"fieldRemoveErr",value:function(t){t.classList.remove("form__input_error")}},{key:"fieldSetOk",value:function(t){t.classList.add("form__input_ok")}},{key:"fieldRemoveOk",value:function(t){t.classList.remove("form__input_ok")}}]),t}();e.default=r},,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};e.default=i,t.exports=e.default},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(){var t=new s.default(window.document.documentElement);t.init({"/":{View:l.default,el:document.getElementById("menu-view")},"/login":{View:u.default,el:document.getElementById("login-view")},"/signup":{View:d.default,el:document.getElementById("signup-view")},"/leaderboard":{View:f.default,el:document.getElementById("leaderboard-view")},"/about":{View:v.default,el:document.getElementById("about-view")},"/profile":{View:y.default,el:document.getElementById("profile-view")},"/game":{View:_.default,el:document.getElementById("game-view")}}),t.start()}var r=n(47),s=i(r),a=n(55),l=i(a),c=n(51),u=i(c),h=n(52),d=i(h),p=n(54),f=i(p),m=n(50),v=i(m),g=n(56),y=i(g),b=n(53),_=i(b),k=n(0),w=i(k),E=n(19),S=i(E);n(103),n(104),n(83);var P=n(37),C=i(P),x=n(49);i(x);console.log(location.href.match(/localhost/i)),"https:"!==location.protocol&&null===location.href.match(/localhost/i)&&(location.href="https:"+window.location.href.substring(window.location.protocol.length)),(new w.default).getUser().then(function(t){S.default.user=t,o()}).catch(function(t){o()}),function(){var t=document.createElement("script");t.src="https://vk.com/js/api/openapi.js?146",document.body.appendChild(t),t.onload=function(){VK.init({apiId:5915120})}}(),(new C.default).render()},,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(84);var r=function(){function t(e){i(this,t),this.text=e.text,this.attrs=e.attrs||[],this.el=document.createElement(e.type),this._render()}return o(t,[{key:"_setAttributes",value:function(t){var e=this;Object.keys(t).forEach(function(n){e.el.setAttribute(n,t[n])})}},{key:"getElem",value:function(){return this}},{key:"_render",value:function(){this.el.innerHTML=this.text,this._setAttributes(this.attrs)}}]),t}();e.default=r},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(20),s=function(t){return t&&t.__esModule?t:{default:t}}(r);n(86);var a=function(){function t(e){i(this,t),this.text=e.text,this.attrs=e.attrs||[],this.help_attrs=e.help_attrs||[],this.el=document.createElement("input"),this.help_el=document.createElement("p"),this._render()}return o(t,[{key:"_setAttributes",value:function(t,e){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}},{key:"_render",value:function(){this._setAttributes(this.attrs,this.el),this._setAttributes(this.help_attrs,this.help_el)}},{key:"getElem",value:function(){return this}},{key:"validate",value:function(t){if(s.default.checkEmpty(this.el.value))return s.default.fieldSetErr(this.el),s.default.helpSetText(this.help_el,"empty field"),!1;s.default.fieldRemoveErr(this.el),s.default.helpSetText(this.help_el,"");var e=this.el.getAttribute("valid");if("login"===e)return s.default.checkLogin({field:this.el,help:this.help_el});if("password"===e);else if("repeatpassword"===e)return s.default.checkPassword({field:t.el,help:t.help_el},{field:this.el,help:this.help_el});return!0}},{key:"clear",value:function(){s.default.helpSetText(this.help_el,""),s.default.fieldSetText(this.el,""),s.default.fieldRemoveOk(this.el),s.default.fieldRemoveErr(this.el)}},{key:"setError",value:function(){s.default.fieldSetErr(this.el)}},{key:"setError",value:function(t){s.default.fieldSetErr(this.el),s.default.helpSetText(this.help_el,t)}}]),t}();e.default=a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(4),a=i(s);n(92),n(90),n(91);var l=n(5),c=i(l),u=function(){function t(e,n){o(this,t),this.node=e,this.manager=n,this.action=new c.default,this.buffAction=new c.default}return r(t,[{key:"render",value:function(){this.container=document.createElement("div"),this.container.setAttribute("class","game-choose-action hidden"),this.node.appendChild(this.container);var t=document.createElement("div");t.setAttribute("class","game-choose-action__content"),this.container.appendChild(t),this.buttonClose=document.createElement("span"),this.buttonClose.setAttribute("class","game-choose-action__close-modal"),this.buttonClose.innerHTML="&times;",t.appendChild(this.buttonClose);var e=document.createElement("div");e.setAttribute("class","game-choose-action__sets-container"),t.appendChild(e),this.actionSetHit=document.createElement("div"),this.actionSetHit.setAttribute("class","game-choose-action__action-hit-set"),this.actionSetBlock=document.createElement("div"),this.actionSetBlock.setAttribute("class","game-choose-action__action-block-set"),e.appendChild(this.actionSetHit),e.appendChild(this.actionSetBlock);var n=document.createElement("div");n.setAttribute("class","game-choose-action__button_tabs"),n.innerText="Hit",this.actionSetHit.appendChild(n),this.setHitControls=document.createElement("div"),this.setHitControls.setAttribute("class","action-set-controls"),this.actionSetHit.appendChild(this.setHitControls);var i=document.createElement("div");i.setAttribute("class","game-choose-action__button_tabs"),i.innerText="Block",this.actionSetBlock.appendChild(i),this.setBlockControlls=document.createElement("div"),this.setBlockControlls.setAttribute("class","action-set-controls"),this.actionSetBlock.appendChild(this.setBlockControlls);var o=document.createElement("div");o.setAttribute("class","game-choose-action__action-hit-set__column"),this.setBlockControlls.appendChild(o),this.buttonBlockHead=document.createElement("div"),this.buttonBlockHead.setAttribute("class","game-choose-action__button_choose"),this.buttonBlockHead.innerText="head",this.buttonBlockBody=document.createElement("div"),this.buttonBlockBody.setAttribute("class","game-choose-action__button_choose"),this.buttonBlockBody.innerText="body",o.appendChild(this.buttonBlockBody),o.appendChild(this.buttonBlockHead);var r=document.createElement("div");r.setAttribute("class","game-choose-action__action-hit-set__column");var s=document.createElement("div");s.setAttribute("class","game-choose-action__action-hit-set__column"),this.setHitControls.appendChild(r),this.setHitControls.appendChild(s);var a=document.createElement("h3");a.innerText="Method",r.appendChild(a),this.buttonHitMethodHead=document.createElement("div"),this.buttonHitMethodHead.setAttribute("class","game-choose-action__button_choose"),this.buttonHitMethodHead.innerText="Head",r.appendChild(this.buttonHitMethodHead),this.buttonHitMethodArm=document.createElement("div"),this.buttonHitMethodArm.setAttribute("class","game-choose-action__button_choose"),this.buttonHitMethodArm.innerText="Arm",r.appendChild(this.buttonHitMethodArm),this.buttonHitMethodLeg=document.createElement("div"),this.buttonHitMethodLeg.setAttribute("class","game-choose-action__button_choose"),this.buttonHitMethodLeg.innerText="Leg",r.appendChild(this.buttonHitMethodLeg);var l=document.createElement("h3");l.innerText="Target",s.appendChild(l),this.buttonHitTargetHead=document.createElement("div"),this.buttonHitTargetHead.setAttribute("class","game-choose-action__button_choose"),this.buttonHitTargetHead.innerText="Head",s.appendChild(this.buttonHitTargetHead),this.buttonHitTargetBody=document.createElement("div"),this.buttonHitTargetBody.setAttribute("class","game-choose-action__button_choose"),this.buttonHitTargetBody.innerText="Body",s.appendChild(this.buttonHitTargetBody),this.btnChoose=document.createElement("div"),this.btnChoose.setAttribute("class","game-choose-action__button"),this.btnChoose.innerText="Ok",t.appendChild(this.btnChoose),this._initActionSetsListeners()}},{key:"setStartAction",value:function(t){if(null!==t&&void 0!==t?this.buffAction.init(t.hit.method,t.hit.target,t.block.method):this.buffAction=new c.default,this.action=Object.assign({},t),null!==t&&void 0!==t){switch(this.action.hit.method){case"head":this._setButtonActionFocus(this.buttonHitMethodHead);break;case"arm":this._setButtonActionFocus(this.buttonHitMethodArm);break;case"leg":this._setButtonActionFocus(this.buttonHitMethodLeg)}switch(this.action.hit.target){case"head":this._setButtonActionFocus(this.buttonHitTargetHead);break;case"body":this._setButtonActionFocus(this.buttonHitTargetBody)}switch(this.action.block.method){case"body":this._setButtonActionFocus(this.buttonBlockBody);break;case"head":this._setButtonActionFocus(this.buttonBlockHead)}}}},{key:"_initActionSetsListeners",value:function(){this.actionListenersMap=new Map,this.chooseMethodHitHead=function(){this.clearHitMethodFocus(),this.buffAction.hit.method="head",this._setButtonActionFocus(this.buttonHitMethodHead)},this.chooseThanHitArm=function(){this.clearHitMethodFocus(),this.buffAction.hit.method="arm",this._setButtonActionFocus(this.buttonHitMethodArm)},this.chooseThanHitLeg=function(){this.clearHitMethodFocus(),this.buffAction.hit.method="leg",this._setButtonActionFocus(this.buttonHitMethodLeg)},this.chooseWhereHitHead=function(){this.clearHitTargetFocus(),this.buffAction.hit.target="head",this._setButtonActionFocus(this.buttonHitTargetHead)},this.chooseWhereHitBody=function(){this.clearHitTargetFocus(),this.buffAction.hit.target="body",this._setButtonActionFocus(this.buttonHitTargetBody)},this.buttonHitMethodHead.addEventListener("click",this.chooseMethodHitHead.bind(this)),this.buttonHitMethodArm.addEventListener("click",this.chooseThanHitArm.bind(this)),this.buttonHitMethodLeg.addEventListener("click",this.chooseThanHitLeg.bind(this)),this.buttonHitTargetHead.addEventListener("click",this.chooseWhereHitHead.bind(this)),this.buttonHitTargetBody.addEventListener("click",this.chooseWhereHitBody.bind(this)),this.chooseBlockHead=function(){this.clearBlockMethodFocus(),this.buffAction.block.method="head",this._setButtonActionFocus(this.buttonBlockHead)},this.chooseBlockBody=function(){this.clearBlockMethodFocus(),this.buffAction.block.method="body",this._setButtonActionFocus(this.buttonBlockBody)},this.buttonBlockHead.addEventListener("click",this.chooseBlockHead.bind(this)),this.buttonBlockBody.addEventListener("click",this.chooseBlockBody.bind(this))}},{key:"_setButtonActionFocus",value:function(t){t.classList.add("game-choose-action__button_choose_focused")}},{key:"clearBlockMethodFocus",value:function(){this.buttonBlockHead.classList.remove("game-choose-action__button_choose_focused"),this.buttonBlockBody.classList.remove("game-choose-action__button_choose_focused")}},{key:"clearHitMethodFocus",value:function(){this.buttonHitMethodArm.classList.remove("game-choose-action__button_choose_focused"),this.buttonHitMethodHead.classList.remove("game-choose-action__button_choose_focused"),this.buttonHitMethodLeg.classList.remove("game-choose-action__button_choose_focused")}},{key:"clearHitTargetFocus",value:function(){this.buttonHitTargetHead.classList.remove("game-choose-action__button_choose_focused"),this.buttonHitTargetBody.classList.remove("game-choose-action__button_choose_focused")}},{key:"show",value:function(){this.container.classList.remove("hidden")}},{key:"hide",value:function(){this.container.classList.add("hidden")}},{key:"_clearFocused",value:function(){this.clearHitTargetFocus(),this.clearHitMethodFocus(),this.clearBlockMethodFocus()}},{key:"initButtonsAction",value:function(t){this.actionCallbackClose=function(){this.hide(),this.deleteButtonAction(),this._clearFocused(),t(null)},this.actionCallbackChoose=function(){this.buffAction.checkOnEmpty()?(this.hide(),this.deleteButtonAction(),t(this.buffAction),this._clearFocused()):a.default.error({title:"Fill actions",position:"topCenter"})},this.buttonClose.addEventListener("click",this.actionCallbackClose.bind(this)),this.btnChoose.addEventListener("click",this.actionCallbackChoose.bind(this))}},{key:"deleteButtonAction",value:function(){this.buttonClose.removeEventListener("click",this.actionCallbackClose),this.btnChoose.removeEventListener("click",this.actionCallbackChoose),this.buttonHitMethodHead.removeEventListener("click",this.chooseMethodHitHead),this.buttonHitMethodArm.removeEventListener("click",this.chooseThanHitArm),this.buttonHitMethodLeg.removeEventListener("click",this.chooseThanHitLeg),this.buttonHitTargetHead.removeEventListener("click",this.chooseWhereHitHead),this.buttonHitTargetBody.removeEventListener("click",this.chooseWhereHitBody)}}]),t}();e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(95),n(94),n(93);var s=n(39);i(s);n(82);var a=n(134),l=i(a),c=function(){function t(e,n,i){o(this,t),this.node=e,this.gameActionModal=n,this.managerContext=i,this.isButtonStepActive=!0}return r(t,[{key:"render",value:function(){this.container=document.createElement("div"),this.container.setAttribute("class","game-controls"),this.actionContainer=document.createElement("div"),this.actionContainer.setAttribute("class","game-controls_actions"),this.buttonAddAction=document.createElement("div"),this.buttonAddAction.innerText="add actions",this.buttonAddAction.setAttribute("class","game-controls__action-button_empty"),this.actionContainer.appendChild(this.buttonAddAction),this.container.appendChild(this.actionContainer),this.btnStep=document.createElement("div"),this.btnStep.setAttribute("id","btn-next-step"),this.btnStep.setAttribute("class","game-controls__button"),this.btnStepText=document.createElement("p"),this.btnStepText.innerText="Create step",this.btnStep.appendChild(this.btnStepText),this.container.appendChild(this.btnStep),this.btnHelp=document.createElement("h2"),this.btnHelp.setAttribute("class","game-controls__button_help"),this.btnHelp.innerText="help",this.container.appendChild(this.btnHelp),this.node.appendChild(this.container),this.initHelpListener(),this.hidden()}},{key:"hidden",value:function(){this.container.hidden=!0}},{key:"show",value:function(){this.container.hidden=!1}},{key:"initHelpListener",value:function(){this.btnHelp.addEventListener("click",function(t){(0,l.default)({title:"HOW TO USE",text:"<div class='game-choose-action__probability-block'><h5><action>Hit head</action> = <probability>the smallest</probability> probability, damage is the <damage>biggest</damage>.</br><action>Hit arm</action> = <probability>the biggest</probability> probability, damage is the <damage>smallest</damage>.</br><action>Hit leg</action> = <probability>average</probability> probability, damage is <damage>average</damage>.</br></h5></div>",html:!0,animation:"slide-from-top"})})}},{key:"initDoStepListener",value:function(t){this.createStep=function(){this.isButtonStepActive&&t()},this.btnStep.addEventListener("click",this.createStep.bind(this))}},{key:"deleteDoStepListener",value:function(){void 0!==this.btnStep&&this.btnStep.removeEventListener("click",this.createStep)}},{key:"initActionListener",value:function(t){this.gameActionModal.initButtonsAction(function(e){t(e)}),this.actionAddCallback=function(){this.isButtonStepActive&&(this.gameActionModal.setStartAction(this.managerContext.strategy.myStep),this.gameActionModal.show())},this.buttonAddAction.addEventListener("click",this.actionAddCallback.bind(this))}},{key:"deleteActionListener",value:function(){this.buttonAddAction.removeEventListener("click",this.actionAddCallback),this.gameActionModal.deleteButtonAction()}},{key:"setButtonStepStatus",value:function(t){this.isButtonStepActive=t,t?(this.btnStep.classList.remove("game-controls__button_disabled"),this.btnStepText.innerText="Create step"):(this.btnStep.classList.add("game-controls__button_disabled"),this.btnStepText.innerText="Wait ...")}}]),t}();e.default=c},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(96);var r=function(){function t(e,n,o,r){i(this,t),this.node=e,this.health=n,this.login=o,this.position=r,this.healthConst=2.4}return o(t,[{key:"render",value:function(){this.el=document.createElement("div"),"left"===this.position?this.el.setAttribute("class","game-info-toast_left"):this.el.setAttribute("class","game-info-toast_right"),this.canvas=document.createElement("canvas"),this.canvas.setAttribute("class","game-info-toast__canvas"),this.el.appendChild(this.canvas),this.updateHealth(100),this.node.appendChild(this.el)}},{key:"updateHealth",value:function(t){if(t<0&&(t=0),this.health=t,this.canvas.getContext){var e=this.canvas.getContext("2d");e.clearRect(0,0,this.canvas.width,this.canvas.height),e.fillStyle="black",e.font="32px Orbitron",e.fillText(""+this.login,30,35),e.beginPath(),e.rect(30,50,this.healthConst*this.health,30),e.closePath(),e.fillStyle="red",e.fill(),e.fillText("Health: "+this.health,50,130)}}}]),t}();e.default=r},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(97);var r=function(){function t(e,n){i(this,t),this.node=e,this.storage=n}return o(t,[{key:"render",value:function(t){this.container=document.createElement("div"),this.container.setAttribute("class","game-result-table"),this.node.appendChild(this.container),this._addData(t)}},{key:"_addData",value:function(t){console.log(t),t.me.win?(this.titleResult=document.createElement("h1"),this.titleResult.innerText="You win :>",this.container.appendChild(this.titleResult)):(this.titleResult=document.createElement("h1"),this.titleResult.innerText="You lose :<",this.container.appendChild(this.titleResult)),this.myDataInfo=document.createElement("div"),this.myDataInfo.setAttribute("class","game-result-table__my-info"),this.container.appendChild(this.myDataInfo);var e=document.createElement("h1");e.innerText="My results: ",this.myDataInfo.appendChild(e);var n=document.createElement("h2");n.innerText="Login: "+t.me.object.login,this.myDataInfo.appendChild(n);var i=document.createElement("h2");i.innerText="Rating: "+t.me.object.rating,this.myDataInfo.appendChild(i),this.btnOk=document.createElement("a"),this.btnOk.setAttribute("class","game-result-table__button"),this.btnOk.setAttribute("href",this.storage.urls.PROFILE),this.btnOk.innerText="Ok",this.container.appendChild(this.btnOk)}},{key:"remove",value:function(){this.node.removeChild(this.container)}}]),t}();e.default=r},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(98);var r=function(){function t(e){i(this,t),this.node=e}return o(t,[{key:"render",value:function(){this.container=document.createElement("div"),this.node.appendChild(this.container),this.container.setAttribute("class","game-timer"),this.timeText=document.createElement("h1"),this.container.appendChild(this.timeText)}},{key:"start",value:function(){var t=this;return this.show(),new Promise(function(e){t.timeDown=(new Date).getTime(),t.timeDown=t.timeDown+3e4,t.inteval=setInterval(function(){var n=(new Date).getTime(),i=t.timeDown-n,o=Math.floor(i%6e4/1e3);t.timeText.textContent="00:"+o,o<=0&&(t.cancel(),e())},1e3)})}},{key:"show",value:function(){var t=this;setTimeout(function(){t.timeText.classList.remove("hidden")},1e3)}},{key:"hidden",value:function(){this.timeText.classList.add("hidden")}},{key:"cancel",value:function(){clearInterval(this.inteval)}}]),t}();e.default=r},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(100);var r=function(){function t(){i(this,t),this.musicElement=document.getElementById("music-bg")}return o(t,[{key:"render",value:function(){var t=this;this.button=document.createElement("div"),this.button.setAttribute("class","music-controls music-controls_on"),document.body.appendChild(this.button),this.button.addEventListener("click",function(e){t.musicElement.paused?(t.musicElement.play(),t.button.classList.remove("music-controls_off"),t.button.classList.add("music-controls_on")):(t.musicElement.pause(),t.button.classList.remove("music-controls_on"),t.button.classList.add("music-controls_off"))})}}]),t}();e.default=r},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(101);var r=function(){function t(e){i(this,t),this.node=e}return o(t,[{key:"render",value:function(t){this.container=document.createElement("div"),this.container.setAttribute("class","progress-bar-table"),this.node.appendChild(this.container),this.progressBar=document.createElement("div"),this.progressBar.setAttribute("class","loader_parent"),this.container.appendChild(this.progressBar),this._addText(t)}},{key:"_addText",value:function(t){var e=this;t.conf.forEach(function(t){var n=document.createElement("h1");n.innerText=t.text,e.container.appendChild(n)})}},{key:"remove",value:function(){this.node.removeChild(this.container)}}]),t}();e.default=r},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();n(102);var r=n(5),s=function(t){return t&&t.__esModule?t:{default:t}}(r),a=function(){function t(e){i(this,t),this.node=e,this.isActive=!1}return o(t,[{key:"render",value:function(){this.button=document.createElement("div"),this.button.setAttribute("class","speech-element");var t=document.createElement("img");t.setAttribute("src","/src/img/microphone.png"),t.setAttribute("width","60px"),t.setAttribute("height","60px"),this.button.appendChild(t),this.node.appendChild(this.button)}},{key:"start",value:function(){this._initListeners()}},{key:"_initListeners",value:function(){var t=this;this.speechRecognition=new window.ya.speechkit.SpeechRecognition,this.button.addEventListener("click",function(e){t.isActive||t.speechRecognition.start({dataCallback:t._analiseSpeech.bind(t),initCallback:t._startRecognize.bind(t),errorCallback:t._errorRecognize.bind(t),stopCallback:t._stopRecognize.bind(t),infoCallback:t._statusRecognize.bind(t),utteranceSilence:60})})}},{key:"_startRecognize",value:function(){this.isActive=!0,this._startAnimation()}},{key:"_errorRecognize",value:function(t){this._finishAnimation(),console.warn(t),this.isActive=!1}},{key:"_statusRecognize",value:function(t,e,n,i){}},{key:"_stopRecognize",value:function(){this.isActive=!1,this._finishAnimation(),console.log("Запись звука прекращена.")}},{key:"_analiseSpeech",value:function(t,e,n,i,o){e&&""!==t&&(this._analiseText(t),this.speechRecognition.stop(),console.warn(o))}},{key:"_startAnimation",value:function(){var t=[{transform:"scale(1)",offset:0,opacity:1},{transform:"scale(1.05)",opacity:.8,offset:.333333},{transform:"scale(1.06)",opacity:.7,offset:.666667},{transform:"scale(1.07)",opacity:.8,offset:1}],e={duration:700,iterations:1/0,direction:"alternate",fill:"forwards",delay:0,easing:"ease-in-out"};this.button.classList.add("speech-element_active"),this.buttonAnimation=this.button.animate(t,e)}},{key:"_finishAnimation",value:function(){this.button.classList.remove("speech-element_active"),void 0!==this.buttonAnimation&&this.buttonAnimation.cancel()}},{key:"_analiseText",value:function(t){new s.default;console.warn("RESULT="+t);var e=t.replace(/\s/g,"");console.warn("РУКА="+this._prefixFunction("ударрукой",e)),console.warn("НОГА="+this._prefixFunction("ударногой",e)),console.warn("ГОЛОВА="+this._prefixFunction("ударголовой",e)),console.warn("В ГОЛОВУ="+this._prefixFunction("вголову",e)),console.warn("В ГОЛОВУ="+this._prefixFunction("голову",e)),console.warn("БЛОК ГОЛОВУ="+this._prefixFunction("блокголовы",e))}},{key:"_prefixFunction",value:function(t,e){var n=t+"@"+e,i=0,o=n.length,r=Array(o);r[0]=0,n[0]===n[1]&&(r[1]=1);for(var s=1;s<o;s++){for(var a=r[s-1];a>0&&n[s]!==n[a];)a=r[a-1];n[s]===n[a]&&++a>i&&(i=a),r[s]=a}return console.log("maxLength="+i),console.log("sub.length="+t.length),i/t.length}}]),t}();e.default=a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(41),a=i(s),l=n(43),c=i(l),u=n(18),h=i(u),d=n(5),p=i(d),f=function(){function t(e,n,i,r){o(this,t),this._gameId=null,this.router=e,this.storage=n,this.node=i.node,this.view=i,this.scene=new a.default(this.view.node,this.storage,this),this.scene.setState(this.storage.gameStates.STATEWAIT),this.strategy=r===this.storage.gameStates.SINGLEPLAYER_STRATEGY?new c.default(this):new h.default(this)}return r(t,[{key:"destroy",value:function(){this.scene.destroy(),delete this.scene}},{key:"startGame",value:function(){var t=this;this.strategy instanceof h.default?(this.ws=new WebSocket("wss://sf-server.herokuapp.com/api/user/game"),this.ws.onopen=function(){console.log("Соединение установлено."),t.initWebSocketListeners()}):this.startSpGameProcess()}},{key:"startSpGameProcess",value:function(){this.checkUser()?this.strategy instanceof c.default&&(this.strategy.setPlayers(this.storage.user,{login:"SUPER BOT",rating:99999999}),this.scene.setState(this.storage.gameStates.STATEGAME),this.strategy.startGameLoop()):this.router.go(this.storage.urls.LOGIN,!0)}},{key:"startMpGameProcess",value:function(t){this.checkUser()?this.strategy instanceof h.default&&(this.strategy.setPlayers(this.storage.user,{login:t}),this.scene.setState(this.storage.gameStates.STATEGAME),this.strategy.startGameLoop()):this.router.go(this.storage.urls.LOGIN,!0)}},{key:"finish",value:function(t,e){this.scene.setResultData(t,e),this.scene.setState(this.storage.gameStates.STATERESULT)}},{key:"checkUser",value:function(){try{return null!==this.storage.user.login}catch(t){return!1}}},{key:"initWebSocketListeners",value:function(){var t=this;this.ws.onmessage=function(e){console.group("Получены данные"),console.log(e.data),console.groupEnd(),t.wsMessageAnalyze(JSON.parse(e.data))},this.ws.onerror=function(t){console.group("Ошибка"),console.error(t),console.groupEnd()},this.ws.onclose=function(t){console.group("Соединение закрыто"),console.error(t),console.groupEnd()}}},{key:"wsMessageAnalyze",value:function(t){if("message"in t)switch(t.message){case"Connect":case"Waiting":case"pulse":break;case"go":this.startMpTimer(0);break;case"win":this.strategy.finishGameLoop(),this.finish({win:!0,object:this.strategy.me},{win:!1,object:this.strategy.opponent})}else if("key"in t){this._gameId=t.key;var e=t.first===this.storage.user.login?t.second:t.first;this.startMpGameProcess(e)}else"id"in t&&(this.stepResultAnalyzeFromWs(t),this.startMpTimer(5))}},{key:"startMpTimer",value:function(t){var e=this;this.scene.timer.hidden(),this.scene.timer.cancel(),setTimeout(function(){e.sendMessageToServer({id:e._gameId}),e.scene.timer.start().then(function(){var t=new p.default;t.init("null","null","null"),e.strategy.myStep=t,e.strategy.sendStep()})},1e3*t)}},{key:"sendMessageToServer",value:function(t){this.ws.send(JSON.stringify(t))}},{key:"stepResultAnalyzeFromWs",value:function(t){var e=new p.default,n=new p.default,i=0,o=0,r=0,s=0;t.first.login===this.storage.user.login?(e.init(t.first.method,t.first.target,t.first.block),n.init(t.second.method,t.second.target,t.second.block),i=t.first.takenDamage,o=t.second.takenDamage,r=t.first.hp,s=t.second.hp):(e.init(t.second.method,t.second.target,t.second.block),n.init(t.first.method,t.first.target,t.first.block),i=t.second.takenDamage,o=t.first.takenDamage,r=t.second.hp,s=t.first.hp),this.strategy.stepAnalyze(e,n,i,o,r,s),this.view.gameControls.setButtonStepStatus(!0)}},{key:"closeWebSocket",value:function(){void 0!==this.ws&&this.ws.close()}}]),t}();e.default=f},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(34),a=i(s),l=n(38),c=i(l),u=n(35),h=i(u),d=n(36),p=i(d);n(105);var f=n(42),m=i(f),v=n(18),g=i(v),y=function(){function t(e,n,i){o(this,t),this.HDim=34,this.WDim=50,this.node=e,this.manager=i,this.storage=n,this.app=b4w.require("app"),this.data=b4w.require("data"),this._setSize()}return r(t,[{key:"destroy",value:function(){delete this.app,delete this.data}},{key:"_setSize",value:function(){var t=window.innerHeight;this.fieldSize=t/this.HDim|0,this.WIDTH=window.innerWidth,console.log("WIDTH = "+this.WIDTH),this.HEGHT=this.fieldSize/3*2*this.HDim}},{key:"_onWindowResize",value:function(){var t=window.innerHeight;this.fieldSize=t/this.HDim|0,this.WIDTH=window.innerWidth,this.HEGHT=this.fieldSize/3*2*this.HDim,this.container.style.height=this.HEGHT+"px"}},{key:"_initListeners",value:function(){window.addEventListener("resize",this._onWindowResize.bind(this),!1)}},{key:"setState",value:function(t){this.state=t,this._renderState()}},{key:"_renderState",value:function(){switch(this.state){case this.storage.gameStates.STATEWAIT:this._renderWaitState();break;case this.storage.gameStates.STATEGAME:this._renderGameState();break;case this.storage.gameStates.STATERESULT:this._renderResultState()}}},{key:"_addStyleOnCanvas",value:function(){this.canvas=this.node.getElementsByTagName("canvas")[2]}},{key:"_renderWaitState",value:function(){this.progressBarTable=new c.default(this.node),this.progressBarTable.render({conf:[{text:"Search for an opponent..."}]})}},{key:"_renderGameState",value:function(){this.progressBarTable.remove(),this.progressBarTable.render({conf:[{text:"Loading"}]}),this._renderContainer(),this.manager.view.renderControlElements(),this._renderInfoBars(),this._initListeners()}},{key:"_renderContainer",value:function(){this.container=document.createElement("div"),this.container.setAttribute("id","game-container"),this.container.setAttribute("class","game-container"),this.node.appendChild(this.container),this._onWindowResize(),this._renderCanvas()}},{key:"_renderCanvas",value:function(){var t=this;this.data.unload(),this.app.init({canvas_container_id:"game-container",autoresize:!0,physics_enabled:!0,callback:function(){t.data.load("/src/three-models/animation_all.json",function(){t.progressBarTable.remove();var e=b4w.require("scenes"),n=b4w.require("animation");t.playerMe=new m.default(n,e.get_object_by_name("Player_1")),t.playerOpponent=new m.default(n,e.get_object_by_name("Player_2")),t.manager.strategy instanceof g.default&&(t.renderTimer(),t.manager.sendMessageToServer({type:"ready",id:t.manager._gameId})),t.manager.view.gameControls.show()})}})}},{key:"renderTimer",value:function(){this.timer=new p.default(this.node),this.timer.render()}},{key:"_renderResultState",value:function(){this.clearView(),this.gameResultTable=new h.default(this.node,this.storage),this.gameResultTable.render(this.resultData)}},{key:"clearView",value:function(){for(;this.node.children.length>0;)this.node.removeChild(this.node.lastChild)}},{key:"_renderInfoBars",value:function(){this.myInfo=new a.default(this.node,this.players.me.health,this.players.me.login,"left"),this.myInfo.render(),this.opponentInfo=new a.default(this.node,this.players.opponent.health,this.players.opponent.login,"right"),this.opponentInfo.render()}},{key:"setPlayers",value:function(t,e){this.players={me:t,opponent:e}}},{key:"setResultData",value:function(t,e){this.resultData={me:t,opponent:e}}}]),t}();e.default=y},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e,n){i(this,t),this.obj=n,this.m_anim=e,this._renderOnStart()}return o(t,[{key:"_renderOnStart",value:function(){this.m_anim.stop(this.obj)}},{key:"play",value:function(t){var e=this;return new Promise(function(n){var i=0,o="";switch(t.action){case"hit":o+="Attack";break;case"block":o+="Block";break;default:i++}switch(t.method){case"arm":o+="_Arm";break;case"leg":o+="_Leg";break;case"head":o+="_Head";break;default:i++}switch(t.target){case"body":o+="_Body";break;case"head":o+="_Head";break;default:i++}switch(t.result){case!0:o+="_Success";break;case!1:o+="_Fail";break;default:i++}i>0?(e.m_anim.stop(e.obj),n()):(e.m_anim.apply(e.obj,o),e.m_anim.play(e.obj,function(){n()}))})}}]),t}();e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(4),a=i(s),l=n(5),c=i(l),u=function(){function t(e){o(this,t),this.manager=e,this.myStep=new c.default,this.opponentStep=new c.default,this.BASE_DAMAGE=40}return r(t,[{key:"gameLoop",value:function(){this.me.health<=0&&this.animationDone?(this.finishGameLoop(),this.manager.finish({win:!1,object:this.me},{win:!0,object:this.opponent})):this.opponent.health<=0&&this.animationDone&&(this.finishGameLoop(),this.manager.finish({win:!0,object:this.me},{win:!1,object:this.opponent}))}},{key:"startGameLoop",value:function(){var t=this;this.inteval=setInterval(function(){return t.gameLoop()},100),this.initDoStepListener(),this.initActionListener()}},{key:"initActionListener",value:function(){var t=this;this.manager.view.gameControls.initActionListener(function(e){null!==e&&void 0!==e&&(t.myStep=e,t.manager.view.gameControls.buttonAddAction.classList.remove("game-controls__action-button_empty"),t.manager.view.gameControls.buttonAddAction.classList.add("game-controls__action-button_fill"),t.manager.view.gameControls.buttonAddAction.innerText="hit by "+e.hit.method+" to "+e.hit.target+" and block "+e.block.method)})}},{key:"initDoStepListener",value:function(){var t=this;this.manager.view.gameControls.initDoStepListener(function(){t.checkMyAction()?t.gameLogic().then(function(){t.clearMyActionsArray()}):a.default.error({title:"Fill action buttons",position:"topCenter"})})}},{key:"gameLogic",value:function(){var t=this;return new Promise(function(e){var n=t.myStep,i=t.createStepForOpponent();t.stepAnalyser(n,i),e()})}},{key:"stepAnalyser",value:function(t,e){function n(){var n=this;return new Promise(function(i){var r={action:"block",target:t.block.method,method:e.hit.method,result:!1},s={action:"hit",target:e.hit.target,method:e.hit.method,result:!0};0!==o?(n.manager.scene.playerMe.play(r).then(function(){}),n.manager.scene.playerOpponent.play(s).then(function(){i()}),n.logIt(!0,"red","I missed hit by "+e.hit.method+" to "+e.hit.target)):(r.result=!0,s.result=!1,n.manager.scene.playerMe.play(r).then(function(){}),n.manager.scene.playerOpponent.play(s).then(function(){i()}),n.logIt(!0,"blue","Everything okey with ME!")),n._updateMyHealth(-o)})}function i(){var n=this,i={action:"hit",target:t.hit.target,method:t.hit.method,result:!0},o={action:"block",target:e.block.method,method:t.hit.method,result:!1};0!==r?(this.manager.scene.playerMe.play(i).then(function(){}),this.manager.scene.playerOpponent.play(o).then(function(){n.animationDone=!0}),this.logIt(!1,"red","Opponent missed hit by "+t.hit.method+" to "+t.hit.target)):(i.result=!1,o.result=!0,this.manager.scene.playerMe.play(i).then(function(){}),this.manager.scene.playerOpponent.play(o).then(function(){n.animationDone=!0}),this.logIt(!1,"blue","Everything okey with OPPONENT!")),this._updateOpponentHealth(-r)}var o=this.getDamage("my",t,e),r=this.getDamage("opponent",t,e);this.animationDone=!1;var s=n.bind(this),a=i.bind(this);s().then(function(){a()})}},{key:"getProbability",value:function(t,e){if("hit"===t)switch(e){case"head":return.65;case"arm":return.95;case"leg":return.8}else if("block"===t)switch(e){case"head":return.6;case"body":return.8}}},{key:"checkProbability",value:function(t){var e=Math.floor(100*Math.random());return console.log("random="+e),console.log("check p = "+(100*t>=e)),100*t>=e}},{key:"getDamage",value:function(t,e,n){var i={},o={};"my"===t?(o=e,i=n):(o=n,i=e);var r=0,s=0,a=0,l=0;return o.block.method===i.hit.target?(r=this.getProbability("hit",i.hit.method),s=this.getProbability("block",o.block.method),a=this.checkProbability(r*s),l=a?(1-r*s)*this.BASE_DAMAGE:0):(r=this.getProbability("hit",i.hit.method),a=this.checkProbability(r),l=a?(1-r/2)*this.BASE_DAMAGE:0),console.warn("hitP="+r+" blockP="+s+" checkP="+a+" damage="+Math.round(l)),Math.round(l)}},{key:"logIt",value:function(t,e,n){var i=t?"topLeft":"topRight";switch(e){case"red":a.default.error({title:n,position:i,timeout:5e3,icon:""});break;case"blue":a.default.success({title:n,position:i,timeout:5e3,icon:""})}}},{key:"_updateOpponentHealth",value:function(t){this.opponent.health+=t,this.manager.scene.opponentInfo.updateHealth(this.opponent.health)}},{key:"_updateMyHealth",value:function(t){this.me.health+=t,this.manager.scene.myInfo.updateHealth(this.me.health)}},{key:"checkMyAction",value:function(){return console.log(this.myStep),!(null===this.myStep||void 0===this.myStep||null===this.myStep.hit.method||null===this.myStep.hit.target||null===this.myStep.block.method)}},{key:"clearMyActionsArray",value:function(){this.myStep=null,this.manager.view.gameControls.buttonAddAction.classList.remove("game-controls__action-button_fill"),this.manager.view.gameControls.buttonAddAction.classList.add("game-controls__action-button_empty"),this.manager.view.gameControls.buttonAddAction.innerText="add action"}},{key:"finishGameLoop",value:function(){clearInterval(this.inteval),this.manager.view.gameControls.deleteDoStepListener(),this.manager.view.gameControls.deleteActionListener()}},{key:"setPlayers",value:function(t,e){this.me=t,this.me.health=100,this.opponent=e,this.opponent.health=100,this.manager.scene.setPlayers(t,e)}},{key:"createStepForOpponent",value:function(){var t=["head","arm","leg"],e=["head","body"],n=t[Math.floor(3*Math.random())],i=e[Math.floor(2*Math.random())],o=e[Math.floor(2*Math.random())],r=new c.default;return r.init(n,i,o),r}}]),t}();e.default=u},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function t(){i(this,t),this.SINGLEPLAYER_STRATEGY="SINGLEPLAYERSTRATEGY",this.MULTIPLAYER_STRATEGY="MULTIPLAYERSTRATEGY",this.STATEWAIT="STATEWAIT",this.STATEGAME="STATEGAME",this.STATERESULT="STATERESULT"};e.default=o},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e,n){i(this,t),this._render(e||"white",n||"2")}return o(t,[{key:"getElem",value:function(){return this}},{key:"_render",value:function(t,e){if(this.el=document.createElement("canvas"),this.el.setAttribute("width","50"),this.el.setAttribute("height","50"),this.el.setAttribute("class","diamond"),this.el.getContext){var n=this.el.getContext("2d");n.beginPath(),n.lineWidth=""+e,n.strokeStyle=""+t,n.moveTo(12,8),n.lineTo(38,8),n.lineTo(47,19),n.lineTo(25,45),n.lineTo(2,19),n.lineTo(12,8),n.lineTo(17,19),n.lineTo(25,8),n.lineTo(32,19),n.lineTo(38,8),n.moveTo(2,19),n.lineTo(47,19),n.moveTo(17,19),n.lineTo(25,45),n.lineTo(32,19),n.stroke()}}}]),t}();e.default=r},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){i(this,t)}return o(t,null,[{key:"getElems",value:function(t){var e=this;return t.map(function(t){var n=document.createElement(t.type);return e.setAttrs(t.attrs,n),n.innerText=t.text,n})}},{key:"setAttrs",value:function(t,e){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}},{key:"elemsAppendTo",value:function(t,e){t.forEach(function(t){e.appendChild(t)})}},{key:"_parseElements",value:function(t,e){var n=this;t.forEach(function(t){var i=document.createElement(t.type);null!==t.attrs&&void 0!==t.attrs&&n.setAttrs(t.attrs,i),null!==t.text&&void 0!==t.text&&(i.innerText=t.text),void 0!==t.elements&&Array.isArray(t.elements)&&n._parseElements(t.elements,i),e.appendChild(i)})}},{key:"create",value:function(t,e){null!==t.elements&&void 0!==t.elements&&this._parseElements(t.elements,e)}}]),t}();e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=n(19),a=i(s),l=n(4),c=i(l),u=function(){function t(e){var n=this;o(this,t),this.node=e,this.routes={},this.currView=null,window.onbeforeunload=function(t){if("/game"===document.location.pathname){return t.returnValue="Dialog text here","Dialog text here"}},window.onpopstate=function(t){n.go(document.location.pathname,!1)}}return r(t,[{key:"init",value:function(t){var e=this;Object.keys(t).forEach(function(n){var i=t[n].View,o=t[n].el;o&&e.register(n,new i(o,a.default,e))}),this.go(document.location.pathname)}},{key:"go",value:function(t,e,n){t=this._checkOffline(t),e&&window.history.pushState({path:t},"",t),this.currView&&this.currView.destroyView(),this.currView=this.getViewByRoute(t),this.currView&&"render"in this.currView&&(null!==n&&void 0!==n?this.currView.render(n):this.currView.render())}},{key:"register",value:function(t,e){this.routes[t]=e}},{key:"getViewByRoute",value:function(t){return this.routes[t]}},{key:"start",value:function(){var t=this;this.node.addEventListener("click",function(e){return t._onRouteChange(e)})}},{key:"cancel",value:function(){this.node.removeEventListener("click",this._onRouteChange(event))}},{key:"_onRouteChange",value:function(t){if(t.target instanceof HTMLAnchorElement){if(this._checkOnAbleLink(t.target.getAttribute("href")))return;t.preventDefault(),this.go(t.target.getAttribute("href"),!0)}else if(t.target.parentElement instanceof HTMLAnchorElement){if(this._checkOnAbleLink(t.target.parentElement.getAttribute("href")))return;t.preventDefault(),this.go(t.target.parentElement.getAttribute("href"),!0)}}},{key:"_checkOnAbleLink",value:function(t){console.warn(t);for(var e=["https://tech.yandex.ru/speechkit/cloud/","https://yandex.ru/"],n=0;n<2;n++)if(e[n]===t)return!0;return!1}},{key:"_checkOffline",value:function(t){if(navigator.onLine){t=this._checkUser(t);try{"Offline"===a.default.user.login&&(a.default.user.login=null)}catch(t){}}else c.default.warning({title:"Only test single play",message:"YOU ARE OFFLINE!",position:"topRight",timeout:5e3}),a.default.user={login:"Offline",rating:1e16},t=t===a.default.urls.LOGIN||t===a.default.urls.SIGNUP||t===a.default.urls.PROFILE?a.default.urls.GAME:t;return t}},{key:"_checkUser",value:function(t){return t===a.default.urls.LOGIN||t===a.default.urls.SIGNUP?a.default.user?a.default.urls.PROFILE:t:t===a.default.urls.PROFILE?a.default.user?t:a.default.urls.LOGIN:t===a.default.urls.GAME?a.default.user?t:a.default.urls.MAIN:t}}]),t}();e.default=u},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function t(){i(this,t),this.MAIN="/",this.LOGIN="/login",this.SIGNUP="/signup",this.LEADERBOARD="/leaderboard",this.ABOUT="/about",this.PROFILE="/profile",this.GAME="/game"};e.default=o},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(){i(this,t)}return o(t,[{key:"init",value:function(){"serviceWorker"in navigator&&navigator.serviceWorker.register("../service-worker.js").then(function(t){console.log("ServiceWorker registration",t)}).catch(function(t){console.error(t)})}}]),t}();e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(i)};n(106);var c=n(1),u=i(c),h=n(46),d=i(h),p=function(t){function e(t,n){o(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.node=t,i.storage=n,i}return s(e,t),a(e,[{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{elements:[{type:"a",attrs:{href:this.storage.urls.MAIN,class:"main-title"},elements:[{type:"h1",text:"Step fight"}]},{type:"div",attrs:{class:"about-view"},elements:[{type:"h2",attrs:{class:"about-view__subtitle"},text:"Game developed by:"},{type:"img",attrs:{id:"img-ept"}},{type:"ul",attrs:{class:"about-view__name-list"},elements:[{type:"li",attrs:{id:"egor"},text:"EGOR FOMICHEV"},{type:"li",attrs:{id:"rishat"},text:"RISHAT VALITOV"},{type:"li",attrs:{id:"andrey"},text:"ANDREY CHERNOV"},{type:"li",attrs:{id:"denis"},text:"DENIS STEPANOV"}]}]}]};l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"renderView",this).call(this),d.default.create(t,this.node),this._initListener()}},{key:"_initListener",value:function(){var t=document.getElementById("img-ept");document.getElementById("egor").addEventListener("click",function(){t.setAttribute("src","/src/img/egor.png")}),document.getElementById("denis").addEventListener("click",function(){t.setAttribute("src","http://justclickit.ru/flash/ufo/ufo%20(314).gif")}),document.getElementById("rishat").addEventListener("click",function(){t.setAttribute("src","http://justclickit.ru/flash/fear/fear%20(5).gif")}),document.getElementById("andrey").addEventListener("click",function(){t.setAttribute("src","http://justclickit.ru/flash/chert/chert%20(34).gif")})}}]),e}(u.default);e.default=p},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(i)},c=n(1),u=i(c),h=n(8),d=i(h),p=n(17),f=i(p),m=n(0),v=i(m),g=function(t){function e(t,n,i){o(this,e);var s=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return s.node=t,s.storage=n,s.router=i,s}return s(e,t),a(e,[{key:"render",value:function(){var t=this;l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"renderView",this).call(this),this._showViewProgressBar(),this.loginForm=new f.default({data:{title:{text:"Log In",type:"h3",attrs:{class:"form__title"}},form:{attrs:{class:"form",action:"",method:""}},fields:[{attrs:{placeholder:"Login",id:"l-login",class:"form__input",type:"text",name:"login"},help_attrs:{id:"l-login-help",class:"form__help-text"}},{attrs:{placeholder:"Password",id:"l-password",class:"form__input",type:"password",name:"password"},help_attrs:{id:"l-password-help",class:"form__help-text"}}],controls:[{text:"Enter",attrs:{type:"submit",class:"form__button",id:"btn-login"},type:"button"},{type:"а",attrs:{class:"form__vk-button hidden",id:"vk-auth"},text:"Вход через VK"},{text:"Sign up",attrs:{class:"form__link",id:"btn-to-signup",href:this.storage.urls.SIGNUP},type:"a"}]}}).getElem(),setTimeout(function(){t._hideViewProgressBar();var e=document.createElement("a");e.setAttribute("href",t.storage.urls.MAIN),e.setAttribute("class","main-title");var n=document.createElement("h1");n.innerText="Step Fight",e.appendChild(n),t.node.appendChild(e),t.node.appendChild(t.loginForm.el),t.login=document.getElementById("l-login"),t.password=document.getElementById("l-password"),t.loginHelp=document.getElementById("l-login-help"),t.btnLogin=document.getElementById("btn-login"),t.btnToSignUp=document.getElementById("btn-to-signup"),t.vkAuth=document.getElementById("vk-auth"),t._initListener()},0)}},{key:"_showViewProgressBar",value:function(){var t=(new d.default).getElem();this.node.appendChild(t)}},{key:"_hideViewProgressBar",value:function(){this.node.removeChild(this.node.lastChild)}},{key:"_showProgressBar",value:function(){this.btnLogin.hidden=!0,this.vkAuth.hidden=!0;var t=(new d.default).getElemParent();this.btnLogin.parentNode.insertBefore(t,this.btnLogin.nextSibling)}},{key:"_hideProgressBar",value:function(){var t=this;setTimeout(function(){t.btnLogin.hidden=!1,t.vkAuth.hidden=!1,t.btnLogin.parentNode.removeChild(t.btnLogin.nextElementSibling)},0)}},{key:"_initListener",value:function(){var t=this;this.loginForm.el.addEventListener("submit",function(e){if(e.preventDefault(),t._checkFields()){var n=t.loginForm.getFormData();t._showProgressBar(),(new v.default).login(n).then(function(e){console.log(e),t._clearFields(),t.storage.user=e,t.router.go(t.storage.urls.PROFILE,!0),t._hideProgressBar()}).catch(function(e){t.loginForm.fields.forEach(function(t){t.setError(),t.setError("wrong data")}),t._hideProgressBar(),console.error(e)})}}),this.btnToSignUp.addEventListener("click",function(e){t._clearFields()}),this.vkAuth.addEventListener("click",function(t){t.preventDefault(),VK.Auth.getLoginStatus(function(t){t?console.warn(t):VK.Auth.login(null,VK.access.FRIENDS)})}),VK.Observer.subscribe("auth.login",function(t){})}},{key:"_clearFields",value:function(){this.loginForm.fields.forEach(function(t){t.clear()})}},{key:"_checkFields",value:function(){var t=!0;return this.loginForm.fields.forEach(function(e){var n=e.validate();!0===t&&(t=n)}),t}}]),e}(u.default);e.default=g},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(i)},c=n(1),u=i(c),h=n(17),d=i(h),p=n(8),f=i(p),m=n(20),v=i(m),g=n(4),y=i(g),b=n(0),_=i(b),k=function(t){function e(t,n,i){o(this,e);var s=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return s.node=t,s.storage=n,s.router=i,s}return s(e,t),a(e,[{key:"render",value:function(){var t=this;l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"renderView",this).call(this),this._showViewProgressBar(),this.signupForm=new d.default({data:{title:{text:"Sign up",type:"h3",attrs:{class:"form__title"}},form:{attrs:{class:"form",action:"",method:""}},fields:[{attrs:{placeholder:"Login",id:"r-login",class:"form__input",type:"text",name:"login",valid:"login"},help_attrs:{id:"r-login-help",class:"form__help-text"}},{attrs:{placeholder:"Password",id:"r-password",class:"form__input",type:"password",name:"password",valid:"password"},help_attrs:{id:"r-password-help",class:"form__help-text"}},{attrs:{placeholder:"Repeat password",id:"r-repeatpassword",class:"form__input",type:"password",name:"repeatpassword",valid:"repeatpassword"},help_attrs:{id:"r-repeatpassword-help",class:"form__help-text"}}],controls:[{text:"Registrate",attrs:{type:"submit",class:"form__button",id:"btn-signup"},type:"button"},{type:"а",attrs:{class:"form__vk-button hidden",id:"vk-auth"},text:"Вход через VK"},{text:"Log In",attrs:{class:"form__link",id:"btn-to-login",href:this.storage.urls.LOGIN},type:"a"}]}}).getElem(),setTimeout(function(){t._hideViewProgressBar();var e=document.createElement("a");e.setAttribute("href",t.storage.urls.MAIN),e.setAttribute("class","main-title");var n=document.createElement("h1");n.innerText="Step Fight",e.appendChild(n),t.node.appendChild(e),t.node.appendChild(t.signupForm.el),t.login=document.getElementById("r-login"),t.password=document.getElementById("r-password"),t.repeatPassword=document.getElementById("r-repeatpassword"),t.loginHelp=document.getElementById("r-login-help"),t.passwordHelp=document.getElementById("r-password-help"),t.repeatPasswordHelp=document.getElementById("r-repeatpassword-help"),t.btnSignUp=document.getElementById("btn-signup"),t.btnToLogin=document.getElementById("btn-to-login"),t.vkAuth=document.getElementById("vk-auth"),t._initListener()},0)}},{key:"_showViewProgressBar",value:function(){var t=(new f.default).getElem();this.node.appendChild(t)}},{key:"_hideViewProgressBar",value:function(){this.node.removeChild(this.node.lastChild)}},{key:"_showProgressBar",value:function(){this.btnSignUp.hidden=!0,this.vkAuth.hidden=!0;var t=(new f.default).getElemParent();this.btnSignUp.parentNode.insertBefore(t,this.btnSignUp.nextSibling)}},{key:"_hideProgressBar",value:function(){var t=this;setTimeout(function(){t.btnSignUp.hidden=!1,t.vkAuth.hidden=!1,t.btnSignUp.parentNode.removeChild(t.btnSignUp.nextElementSibling)},0)}},{key:"_initListener",value:function(){var t=this;this.signupForm.el.addEventListener("submit",function(e){if(e.preventDefault(),t._checkFields()){var n=t.signupForm.getFormData();t._showProgressBar(),(new _.default).signup(n).then(function(e){t.storage.user=e.user,t._clearFields(),t._hideProgressBar(),y.default.success({title:"Successfully registered",position:"topRight"}),t.router.go(t.storage.urls.LOGIN)}).catch(function(e){v.default.fieldRemoveOk(t.login),v.default.fieldSetErr(t.login),"no-conn"===e.result?v.default.helpSetText(t.loginHelp,"check connection"):v.default.helpSetText(t.loginHelp,"login used"),t._hideProgressBar(),console.error(e)})}}),this.btnToLogin.addEventListener("click",function(e){t._clearFields()}),this.vkAuth.addEventListener("click",function(t){t.preventDefault(),VK.Auth.login(null,VK.access.FRIENDS)}),VK.Observer.subscribe("auth.login",function(t){})}},{key:"_checkFields",value:function(){var t=!0,e=null;return this.signupForm.fields.forEach(function(n){var i=n.validate(e);e=n,!0===t&&(t=i)}),t}},{key:"_clearFields",value:function(){this.signupForm.fields.forEach(function(t){t.clear()})}}]),e}(u.default);e.default=k},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(i)},c=n(1),u=i(c),h=n(40),d=i(h);n(109),n(107),n(108);var p=n(33),f=i(p),m=n(32),v=i(m),g=function(t){function e(t,n,i){o(this,e);var s=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return s.node=t,s.storage=n,s.router=i,s}return s(e,t),a(e,[{key:"render",value:function(t){l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"renderView",this).call(this),void 0===t&&(t=this.storage.gameStates.SINGLEPLAYER_STRATEGY),this.gameManager=new d.default(this.router,this.storage,this,t),this.gameActionModal=new v.default(this.node,this.gameManager),this.gameControls=new f.default(this.node,this.gameActionModal,this.gameManager),this.gameManager.startGame()}},{key:"renderControlElements",value:function(){this.gameControls.render(),this.gameActionModal.render()}},{key:"destroyView",value:function(){this.gameManager&&(this.gameManager.destroy(),this.gameManager.closeWebSocket()),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroyView",this).call(this)}}]),e}(u.default);e.default=g},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(i)},c=n(1),u=i(c),h=n(8),d=i(h),p=n(0),f=i(p);n(113),n(110),n(112),n(111);var m=n(127),v=i(m),g=function(t){function e(t,n,i){o(this,e);var s=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return s.node=t,s.storage=n,s.router=i,s}return s(e,t),a(e,[{key:"_refreshLeaderBoard",value:function(t){return v.default.compile('\n                        {{#with logo}}\n                            <a href="/" class="{{class}}"><h1>{{text}}</h1></a>\n                        {{/with}}\n                        {{#with title}}\n                            <h2 class="{{class}}">{{text}}</h2>\n                        {{/with}}\n                        <p class="{{control.class}}" id="{{control.id}}">{{control.text}}</p>\n                        {{#if leaderboard}}\n                        <div>\n                        <ul class="leaderboard-view__list">\n                            {{#each leaderboard}}\n                            <li class="leaderboard-view__list__item">{{login}}<span class="badge">{{rating}}</span>\n                            <span class="position">{{position}}</span></li>\n                            {{/each}}\n                        </ul>\n                        </div>\n                        {{/if}}')(t)}},{key:"render",value:function(){var t=this;l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"renderView",this).call(this),this._setProgressBar(this.node),(new f.default).getLeaders().then(function(e){var n=e.leaders,i=1;n.forEach(function(t){t.position=i+".",i++}),setTimeout(function(){t.node.innerHTML=t._refreshLeaderBoard({logo:{text:"Step fight",class:"main-title"},title:{text:"Top players:",class:"leaderboard-view__title"},leaderboard:n,control:{text:"Refresh",class:"leaderboard-view__link",id:"refresh-lb"}}),t._initRefreshListener()},500)}).catch(function(e){console.error(e),t.node.innerHTML=t._refreshLeaderBoard({titles:{title:"No connection"},err:{},control:{text:"Refresh",class:"leaderboard-view__link",id:"refresh-lb"}}),t._initRefreshListener()})}},{key:"_initRefreshListener",value:function(){var t=this,e=document.getElementById("refresh-lb");e&&e.addEventListener("click",function(){t.render()})}},{key:"_clearContainer",value:function(t){for(;t.children.length>1;)t.removeChild(t.lastChild)}},{key:"_setProgressBar",value:function(t){this._clearContainer(t),t.appendChild((new d.default).getElem())}}]),e}(u.default);e.default=g},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(i)};n(116),n(115),n(114);var l=n(1),c=function(t){return t&&t.__esModule?t:{default:t}}(l),u=function(t){function e(t,n,r){i(this,e);var s=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return s.node=t,s.storage=n,s.router=r,s}return r(e,t),s(e,[{key:"render",value:function(){a(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"renderView",this).call(this);var t={title:{type:"a",attrs:{href:this.storage.urls.MAIN,class:"main-title"},element:{type:"h1",text:"Step Fight"}},elements:[{type:"a",attrs:{href:this.storage.urls.LEADERBOARD,class:"menu-view__controls-block__button"},element:{type:"h1",text:"LEADER BOARD"}},{type:"a",attrs:{href:this.storage.urls.LOGIN,class:"menu-view__controls-block__button_main"},element:{type:"h1",text:"PLAY"}},{type:"a",attrs:{href:this.storage.urls.ABOUT,class:"menu-view__controls-block__button"},element:{type:"h1",text:"ABOUT"}}]},n=document.createElement("div");n.classList.add("menu-view");var i=this._getTitle(t.title);n.appendChild(i);var o=this._getElems(t.elements),r=document.createElement("div");r.setAttribute("class","menu-view__controls-block"),this._elemsAppendTo(o,r),n.appendChild(r),this.node.appendChild(n)}},{key:"_setAttrs",value:function(t,e){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}},{key:"_elemsAppendTo",value:function(t,e){t.forEach(function(t){e.appendChild(t)})}},{key:"_getElems",value:function(t){var e=this;return t.map(function(t){var n=document.createElement(t.type);e._setAttrs(t.attrs,n);var i=document.createElement(t.element.type);return i.textContent=t.element.text,n.appendChild(i),n})}},{key:"_getTitle",value:function(t){var e=document.createElement(t.type);this._setAttrs(t.attrs,e);var n=document.createElement(t.element.type);return n.textContent=t.element.text,e.appendChild(n),e}}]),e}(c.default);e.default=u},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(i)},c=n(1),u=i(c),h=n(0),d=i(h),p=n(8),f=i(p),m=n(45),v=(i(m),n(4)),g=i(v);n(125),n(118),n(117),n(121),n(119),n(120),n(124),n(123),n(122);var y=function(t){function e(t,n,i){o(this,e);var s=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return s.node=t,s.storage=n,s.router=i,s}return s(e,t),a(e,[{key:"_getUser",value:function(){return new Promise(function(t,e){(new d.default).getUser().then(function(e){t(e)}).catch(function(t){e({})})})}},{key:"render",value:function(){var t=this;l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"renderView",this).call(this),this._showViewProgressBar(),this._getUser().then(function(e){setTimeout(function(){t._hideViewProgressBar(),t._renderProfile(e)},500)}).catch(function(e){"{}"===JSON.stringify(e)&&(t.storage.user=null,t.router.go(t.storage.urls.LOGIN,!0)),t._hideViewProgressBar()})}},{key:"_initListener",value:function(){var t=this;this.hrefLogout.addEventListener("click",function(e){(new d.default).logOutUser().then(function(e){t.storage.user=null,t.router.go(t.storage.urls.LOGIN,!0)}).catch(function(t){})}),this.hrefPlayS.addEventListener("click",function(e){t.router.go(t.storage.urls.GAME,!0,t.storage.gameStates.SINGLEPLAYER_STRATEGY)}),this.hrefPlayM.addEventListener("click",function(e){navigator.onLine?t.router.go(t.storage.urls.GAME,!0,t.storage.gameStates.MULTIPLAYER_STRATEGY):g.default.error({title:"You are offline!",text:"Use single play only",position:"topRight"})})}},{key:"_showViewProgressBar",value:function(){var t=(new f.default).getElem();this.node.appendChild(t)}},{key:"_hideViewProgressBar",value:function(){try{this.node.removeChild(this.node.lastChild)}catch(t){}}},{key:"_clearContainer",value:function(){for(;this.node.children.length>0;)this.node.removeChild(this.node.lastChild)}},{key:"refresh",value:function(){this._clearContainer(),this._showViewProgressBar(),this._render()}},{key:"_renderProfile",value:function(t){console.log(t);var e=document.createElement("a");e.setAttribute("href",this.storage.urls.MAIN),e.setAttribute("class","main-title");var n=document.createElement("h1");n.textContent="Step fight",e.appendChild(n),this.node.appendChild(e);var i=document.createElement("div");i.setAttribute("class","profile-view__controllers"),this.hrefPlayM=document.createElement("div"),this.hrefPlayM.setAttribute("class","profile-view__controllers__button");var o=document.createElement("h1");o.innerHTML="Multiplayer",this.hrefPlayM.appendChild(o),this.hrefPlayS=document.createElement("div"),this.hrefPlayS.setAttribute("class","profile-view__controllers__button"),o=document.createElement("h1"),o.innerHTML="Single play",this.hrefPlayS.appendChild(o),i.appendChild(this.hrefPlayM),i.appendChild(this.hrefPlayS);var r=document.createElement("div");r.setAttribute("class","profile-view__user-info");var s=document.createElement("h2");s.setAttribute("class","profile-view__user-info__login"),s.innerText=""+t.login,r.appendChild(s),[{name:"Rating:",value:t.rating},{name:"Winnings:",value:t.game_count_win},{name:"Total matches: ",value:t.game_count}].forEach(function(t){s=document.createElement("h3"),s.setAttribute("class","profile-view__user-info__item"),s.innerText=t.name+" "+t.value,r.appendChild(s)}),this.node.appendChild(r),this.node.appendChild(i),this.hrefLogout=document.createElement("div"),this.hrefLogout.setAttribute("class","profile-view__controllers__button_logout"),this.hrefLogout.setAttribute("id","btn-logout"),this.hrefLogout.innerText="Log out",this.node.appendChild(this.hrefLogout),this._initListener()}}]),e}(u.default);e.default=y},,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function i(){var t=g();return t.compile=function(e,n){return u.compile(e,n,t)},t.precompile=function(e,n){return u.precompile(e,n,t)},t.AST=l.default,t.Compiler=u.Compiler,t.JavaScriptCompiler=d.default,t.Parser=c.parser,t.parse=c.parse,t}var o=n(1).default;e.__esModule=!0;var r=n(2),s=o(r),a=n(24),l=o(a),c=n(25),u=n(30),h=n(31),d=o(h),p=n(28),f=o(p),m=n(23),v=o(m),g=s.default.create,y=i();y.create=i,v.default(y),y.Visitor=f.default,y.default=y,e.default=y,t.exports=e.default},function(t,e){"use strict";e.default=function(t){return t&&t.__esModule?t:{default:t}},e.__esModule=!0},function(t,e,n){"use strict";function i(){var t=new a.HandlebarsEnvironment;return p.extend(t,a),t.SafeString=c.default,t.Exception=h.default,t.Utils=p,t.escapeExpression=p.escapeExpression,t.VM=m,t.template=function(e){return m.template(e,t)},t}var o=n(3).default,r=n(1).default;e.__esModule=!0;var s=n(4),a=o(s),l=n(21),c=r(l),u=n(6),h=r(u),d=n(5),p=o(d),f=n(22),m=o(f),v=n(23),g=r(v),y=i();y.create=i,g.default(y),y.default=y,e.default=y,t.exports=e.default},function(t,e){"use strict";e.default=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.__esModule=!0},function(t,e,n){"use strict";function i(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},l.registerDefaultHelpers(this),c.registerDefaultDecorators(this)}var o=n(1).default;e.__esModule=!0,e.HandlebarsEnvironment=i;var r=n(5),s=n(6),a=o(s),l=n(10),c=n(18),u=n(20),h=o(u);e.VERSION="4.0.5";e.COMPILER_REVISION=7;var d={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};e.REVISION_CHANGES=d;var p="[object Object]";i.prototype={constructor:i,logger:h.default,log:h.default.log,registerHelper:function(t,e){if(r.toString.call(t)===p){if(e)throw new a.default("Arg not supported with multiple helpers");r.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(r.toString.call(t)===p)r.extend(this.partials,t);else{if(void 0===e)throw new a.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(r.toString.call(t)===p){if(e)throw new a.default("Arg not supported with multiple decorators");r.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var f=h.default.log;e.log=f,e.createFrame=r.createFrame,e.logger=h.default},function(t,e){"use strict";function n(t){return u[t]}function i(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function o(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}function r(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return d.test(t)?t.replace(h,n):t}function s(t){return!t&&0!==t||!(!m(t)||0!==t.length)}function a(t){var e=i({},t);return e._parent=t,e}function l(t,e){return t.path=e,t}function c(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=i,e.indexOf=o,e.escapeExpression=r,e.isEmpty=s,e.createFrame=a,e.blockParams=l,e.appendContextPath=c;var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},h=/[&<>"'`=]/g,d=/[&<>"'`=]/,p=Object.prototype.toString;e.toString=p;var f=function(t){return"function"==typeof t};f(/x/)&&(e.isFunction=f=function(t){return"function"==typeof t&&"[object Function]"===p.call(t)}),e.isFunction=f;var m=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===p.call(t)};e.isArray=m},function(t,e,n){"use strict";function i(t,e){var n=e&&e.loc,s=void 0,a=void 0;n&&(s=n.start.line,a=n.start.column,t+=" - "+s+":"+a);for(var l=Error.prototype.constructor.call(this,t),c=0;c<r.length;c++)this[r[c]]=l[r[c]];Error.captureStackTrace&&Error.captureStackTrace(this,i);try{n&&(this.lineNumber=s,o?Object.defineProperty(this,"column",{value:a}):this.column=a)}catch(t){}}var o=n(7).default;e.__esModule=!0;var r=["description","fileName","lineNumber","message","name","number","stack"];i.prototype=Error(),e.default=i,t.exports=e.default},function(t,e,n){t.exports={default:n(8),__esModule:!0}},function(t,e,n){var i=n(9);t.exports=function(t,e,n){return i.setDesc(t,e,n)}},function(t,e){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(t,e,n){"use strict";function i(t){s.default(t),l.default(t),u.default(t),d.default(t),f.default(t),v.default(t),y.default(t)}var o=n(1).default;e.__esModule=!0,e.registerDefaultHelpers=i;var r=n(11),s=o(r),a=n(12),l=o(a),c=n(13),u=o(c),h=n(14),d=o(h),p=n(15),f=o(p),m=n(16),v=o(m),g=n(17),y=o(g)},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerHelper("blockHelperMissing",function(e,n){var o=n.inverse,r=n.fn;if(!0===e)return r(this);if(!1===e||null==e)return o(this);if(i.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):o(this);if(n.data&&n.ids){var s=i.createFrame(n.data);s.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:s}}return r(e,n)})},t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0;var o=n(5),r=n(6),s=i(r);e.default=function(t){t.registerHelper("each",function(t,e){function n(e,n,r){c&&(c.key=e,c.index=n,c.first=0===n,c.last=!!r,u&&(c.contextPath=u+e)),l+=i(t[e],{data:c,blockParams:o.blockParams([t[e],e],[u+e,null])})}if(!e)throw new s.default("Must pass iterator to #each");var i=e.fn,r=e.inverse,a=0,l="",c=void 0,u=void 0;if(e.data&&e.ids&&(u=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),o.isFunction(t)&&(t=t.call(this)),e.data&&(c=o.createFrame(e.data)),t&&"object"==typeof t)if(o.isArray(t))for(var h=t.length;a<h;a++)a in t&&n(a,a,a===t.length-1);else{var d=void 0;for(var p in t)t.hasOwnProperty(p)&&(void 0!==d&&n(d,a-1),d=p,a++);void 0!==d&&n(d,a-1,!0)}return 0===a&&(l=r(this)),l})},t.exports=e.default},function(t,e,n){"use strict";var i=n(1).default;e.__esModule=!0;var o=n(6),r=i(o);e.default=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerHelper("if",function(t,e){return i.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||i.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",function(){for(var e=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)e.push(arguments[i]);var o=1;null!=n.hash.level?o=n.hash.level:n.data&&null!=n.data.level&&(o=n.data.level),e[0]=o,t.log.apply(t,e)})},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerHelper("with",function(t,e){i.isFunction(t)&&(t=t.call(this));var n=e.fn;if(i.isEmpty(t))return e.inverse(this);var o=e.data;return e.data&&e.ids&&(o=i.createFrame(e.data),o.contextPath=i.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:o,blockParams:i.blockParams([t],[o&&o.contextPath])})})},t.exports=e.default},function(t,e,n){"use strict";function i(t){s.default(t)}var o=n(1).default;e.__esModule=!0,e.registerDefaultDecorators=i;var r=n(19),s=o(r)},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5);e.default=function(t){t.registerDecorator("inline",function(t,e,n,o){var r=t;return e.partials||(e.partials={},r=function(o,r){var s=n.partials;n.partials=i.extend({},s,e.partials);var a=t(o,r);return n.partials=s,a}),e.partials[o.args[0]]=o.fn,r})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var i=n(5),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=i.indexOf(o.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=o.lookupLevel(t),"undefined"!=typeof console&&o.lookupLevel(o.level)<=t){var e=o.methodMap[t];console[e]||(e="log");for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];console[e].apply(console,i)}}};e.default=o,t.exports=e.default},function(t,e){"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e.default=n,t.exports=e.default},function(t,e,n){"use strict";function i(t){var e=t&&t[0]||1,n=g.COMPILER_REVISION;if(e!==n){if(e<n){var i=g.REVISION_CHANGES[n],o=g.REVISION_CHANGES[e];throw new v.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+o+").")}throw new v.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function o(t,e){function n(n,i,o){o.hash&&(i=f.extend({},i,o.hash),o.ids&&(o.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,i,o);var r=e.VM.invokePartial.call(this,n,i,o);if(null==r&&e.compile&&(o.partials[o.name]=e.compile(n,t.compilerOptions,e),r=o.partials[o.name](i,o)),null!=r){if(o.indent){for(var s=r.split("\n"),a=0,l=s.length;a<l&&(s[a]||a+1!==l);a++)s[a]=o.indent+s[a];r=s.join("\n")}return r}throw new v.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")}function i(e){function n(e){return""+t.main(o,e,o.helpers,o.partials,s,l,a)}var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=r.data;i._setup(r),!r.partial&&t.useData&&(s=c(e,s));var a=void 0,l=t.useBlockParams?[]:void 0;return t.useDepths&&(a=r.depths?e!=r.depths[0]?[e].concat(r.depths):r.depths:[e]),(n=u(t.main,n,o,r.depths||[],s,l))(e,r)}if(!e)throw new v.default("No environment passed to template");if(!t||!t.main)throw new v.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var o={strict:function(t,e){if(!(e in t))throw new v.default('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i]&&null!=t[i][e])return t[i][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:f.escapeExpression,invokePartial:n,fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,i,o){var s=this.programs[t],a=this.fn(t);return e||o||i||n?s=r(this,t,a,e,n,i,o):s||(s=this.programs[t]=r(this,t,a)),s},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=f.extend({},e,t)),n},noop:e.VM.noop,compilerInfo:t.compiler};return i.isTop=!0,i._setup=function(n){n.partial?(o.helpers=n.helpers,o.partials=n.partials,o.decorators=n.decorators):(o.helpers=o.merge(n.helpers,e.helpers),t.usePartial&&(o.partials=o.merge(n.partials,e.partials)),(t.usePartial||t.useDecorators)&&(o.decorators=o.merge(n.decorators,e.decorators)))},i._child=function(e,n,i,s){if(t.useBlockParams&&!i)throw new v.default("must pass block params");if(t.useDepths&&!s)throw new v.default("must pass parent depths");return r(o,e,t[e],n,0,i,s)},i}function r(t,e,n,i,o,r,s){function a(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return s&&e!=s[0]&&(a=[e].concat(s)),n(t,e,t.helpers,t.partials,o.data||i,r&&[o.blockParams].concat(r),a)}return a=u(n,a,t,s,i,r),a.program=e,a.depth=s?s.length:0,a.blockParams=o||0,a}function s(t,e,n){if(t)t.call||n.name||(n.name=t,t=n.partials[t]);else if("@partial-block"===n.name){for(var i=n.data;i["partial-block"]===l;)i=i._parent;t=i["partial-block"],i["partial-block"]=l}else t=n.partials[n.name];return t}function a(t,e,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;if(n.fn&&n.fn!==l&&(n.data=g.createFrame(n.data),i=n.data["partial-block"]=n.fn,i.partials&&(n.partials=f.extend({},n.partials,i.partials))),void 0===t&&i&&(t=i),void 0===t)throw new v.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)}function l(){return""}function c(t,e){return e&&"root"in e||(e=e?g.createFrame(e):{},e.root=t),e}function u(t,e,n,i,o,r){if(t.decorator){var s={};e=t.decorator(e,s,n,i&&i[0],o,r,i),f.extend(e,s)}return e}var h=n(3).default,d=n(1).default;e.__esModule=!0,e.checkRevision=i,e.template=o,e.wrapProgram=r,e.resolvePartial=s,e.invokePartial=a,e.noop=l;var p=n(5),f=h(p),m=n(6),v=d(m),g=n(4)},function(t,e){(function(n){"use strict";e.__esModule=!0,e.default=function(t){var e=void 0!==n?n:window,i=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=i),t}},t.exports=e.default}).call(e,function(){return this}())},function(t,e){"use strict";e.__esModule=!0;var n={helpers:{helperExpression:function(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!n.helpers.scopedId(t)&&!t.depth}}};e.default=n,t.exports=e.default},function(t,e,n){"use strict";function i(t,e){return"Program"===t.type?t:(a.default.yy=p,p.locInfo=function(t){return new p.SourceLocation(e&&e.srcName,t)},new c.default(e).accept(a.default.parse(t)))}var o=n(1).default,r=n(3).default;e.__esModule=!0,e.parse=i;var s=n(26),a=o(s),l=n(27),c=o(l),u=n(29),h=r(u),d=n(5);e.parser=a.default;var p={};d.extend(p,h)},function(t,e){"use strict";var n=function(){function t(){this.yy={}}var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(t,e,n,i,o,r,s){var a=r.length-1;switch(o){case 1:return r[a-1];case 2:this.$=i.prepareProgram(r[a]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=r[a];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(r[a]),strip:i.stripFlags(r[a],r[a]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:r[a],value:r[a],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(r[a-2],r[a-1],r[a],this._$);break;case 12:this.$={path:r[a-3],params:r[a-2],hash:r[a-1]};break;case 13:this.$=i.prepareBlock(r[a-3],r[a-2],r[a-1],r[a],!1,this._$);break;case 14:this.$=i.prepareBlock(r[a-3],r[a-2],r[a-1],r[a],!0,this._$);break;case 15:this.$={open:r[a-5],path:r[a-4],params:r[a-3],hash:r[a-2],blockParams:r[a-1],strip:i.stripFlags(r[a-5],r[a])};break;case 16:case 17:this.$={path:r[a-4],params:r[a-3],hash:r[a-2],blockParams:r[a-1],strip:i.stripFlags(r[a-5],r[a])};break;case 18:this.$={strip:i.stripFlags(r[a-1],r[a-1]),program:r[a]};break;case 19:var l=i.prepareBlock(r[a-2],r[a-1],r[a],r[a],!1,this._$),c=i.prepareProgram([l],r[a-1].loc);c.chained=!0,this.$={strip:r[a-2].strip,program:c,chain:!0};break;case 20:this.$=r[a];break;case 21:this.$={path:r[a-1],strip:i.stripFlags(r[a-2],r[a])};break;case 22:case 23:this.$=i.prepareMustache(r[a-3],r[a-2],r[a-1],r[a-4],i.stripFlags(r[a-4],r[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:r[a-3],params:r[a-2],hash:r[a-1],indent:"",strip:i.stripFlags(r[a-4],r[a]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(r[a-2],r[a-1],r[a],this._$);break;case 26:this.$={path:r[a-3],params:r[a-2],hash:r[a-1],strip:i.stripFlags(r[a-4],r[a])};break;case 27:case 28:this.$=r[a];break;case 29:this.$={type:"SubExpression",path:r[a-3],params:r[a-2],hash:r[a-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:r[a],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(r[a-2]),value:r[a],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(r[a-1]);break;case 33:case 34:this.$=r[a];break;case 35:this.$={type:"StringLiteral",value:r[a],original:r[a],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:+r[a],original:+r[a],loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===r[a],original:"true"===r[a],loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 40:case 41:this.$=r[a];break;case 42:this.$=i.preparePath(!0,r[a],this._$);break;case 43:this.$=i.preparePath(!1,r[a],this._$);break;case 44:r[a-2].push({part:i.id(r[a]),original:r[a],separator:r[a-1]}),this.$=r[a-2];break;case 45:this.$=[{part:i.id(r[a]),original:r[a]}];break;case 46:this.$=[];break;case 47:r[a-1].push(r[a]);break;case 48:this.$=[r[a]];break;case 49:r[a-1].push(r[a]);break;case 50:this.$=[];break;case 51:r[a-1].push(r[a]);break;case 58:this.$=[];break;case 59:r[a-1].push(r[a]);break;case 64:this.$=[];break;case 65:r[a-1].push(r[a]);break;case 70:this.$=[];break;case 71:r[a-1].push(r[a]);break;case 78:this.$=[];break;case 79:r[a-1].push(r[a]);break;case 82:this.$=[];break;case 83:r[a-1].push(r[a]);break;case 86:this.$=[];break;case 87:r[a-1].push(r[a]);break;case 90:this.$=[];break;case 91:r[a-1].push(r[a]);break;case 94:this.$=[];break;case 95:r[a-1].push(r[a]);break;case 98:this.$=[r[a]];break;case 99:r[a-1].push(r[a]);break;case 100:this.$=[r[a]];break;case 101:r[a-1].push(r[a])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(t,e){throw Error(t)},parse:function(t){var e=this,n=[0],i=[null],o=[],r=this.table,s="",a=0,l=0,c=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;o.push(u);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,p,f,m,v,g,y,b,_,k={};;){if(f=n[n.length-1],this.defaultActions[f]?m=this.defaultActions[f]:(null!==d&&void 0!==d||(d=function(){var t;return t=e.lexer.lex()||1,"number"!=typeof t&&(t=e.symbols_[t]||t),t}()),m=r[f]&&r[f][d]),void 0===m||!m.length||!m[0]){var w="";if(!c){_=[];for(g in r[f])this.terminals_[g]&&g>2&&_.push("'"+this.terminals_[g]+"'");w=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(w,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:u,expected:_})}}if(m[0]instanceof Array&&m.length>1)throw Error("Parse Error: multiple actions possible at state: "+f+", token: "+d);switch(m[0]){case 1:n.push(d),i.push(this.lexer.yytext),o.push(this.lexer.yylloc),n.push(m[1]),d=null,p?(d=p,p=null):(l=this.lexer.yyleng,s=this.lexer.yytext,a=this.lexer.yylineno,u=this.lexer.yylloc,c>0&&c--);break;case 2:if(y=this.productions_[m[1]][1],k.$=i[i.length-y],k._$={first_line:o[o.length-(y||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(y||1)].first_column,last_column:o[o.length-1].last_column},h&&(k._$.range=[o[o.length-(y||1)].range[0],o[o.length-1].range[1]]),void 0!==(v=this.performAction.call(k,s,l,a,this.yy,m[1],i,o)))return v;y&&(n=n.slice(0,-1*y*2),i=i.slice(0,-1*y),o=o.slice(0,-1*y)),n.push(this.productions_[m[1]][0]),i.push(k.$),o.push(k._$),b=r[n[n.length-2]][n[n.length-1]],n.push(b);break;case 3:return!0}}return!0}},n=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var t,e,n,i,o;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),s=0;s<r.length&&(!(n=this._input.match(this.rules[r[s]]))||e&&!(n[0].length>e[0].length)||(e=n,i=s,this.options.flex));s++);return e?(o=e[0].match(/(?:\r\n?|\n).*/g),o&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,r[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)}};return t.options={},t.performAction=function(t,e,n,i){function o(t,n){return e.yytext=e.yytext.substr(t,e.yyleng-n)}switch(n){case 0:if("\\\\"===e.yytext.slice(-2)?(o(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(o(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(e.yytext=e.yytext.substr(5,e.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(e.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return e.yytext=o(1,2).replace(/\\"/g,'"'),80;case 32:return e.yytext=o(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return e.yytext=e.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},t.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],t.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},t}();return e.lexer=n,t.prototype=e,e.Parser=t,new t}();e.__esModule=!0,e.default=n},function(t,e,n){"use strict";function i(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t}function o(t,e,n){void 0===e&&(e=t.length);var i=t[e-1],o=t[e-2];return i?"ContentStatement"===i.type?(o||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function r(t,e,n){void 0===e&&(e=-1);var i=t[e+1],o=t[e+2];return i?"ContentStatement"===i.type?(o||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function s(t,e,n){var i=t[null==e?0:e+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var o=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==o}}function a(t,e,n){var i=t[null==e?t.length-1:e-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var o=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==o,i.leftStripped}}var l=n(1).default;e.__esModule=!0;var c=n(28),u=l(c);i.prototype=new u.default,i.prototype.Program=function(t){var e=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var i=t.body,l=0,c=i.length;l<c;l++){var u=i[l],h=this.accept(u);if(h){var d=o(i,l,n),p=r(i,l,n),f=h.openStandalone&&d,m=h.closeStandalone&&p,v=h.inlineStandalone&&d&&p;h.close&&s(i,l,!0),h.open&&a(i,l,!0),e&&v&&(s(i,l),a(i,l)&&"PartialStatement"===u.type&&(u.indent=/([ \t]+$)/.exec(i[l-1].original)[1])),e&&f&&(s((u.program||u.inverse).body),a(i,l)),e&&m&&(s(i,l),a((u.inverse||u.program).body))}}return t},i.prototype.BlockStatement=i.prototype.DecoratorBlock=i.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,n=t.program&&t.inverse,i=n,l=n;if(n&&n.chained)for(i=n.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var c={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:r(e.body),closeStandalone:o((i||e).body)};if(t.openStrip.close&&s(e.body,null,!0),n){var u=t.inverseStrip;u.open&&a(e.body,null,!0),u.close&&s(i.body,null,!0),t.closeStrip.open&&a(l.body,null,!0),!this.options.ignoreStandalone&&o(e.body)&&r(i.body)&&(a(e.body),s(i.body))}else t.closeStrip.open&&a(e.body,null,!0);return c},i.prototype.Decorator=i.prototype.MustacheStatement=function(t){return t.strip},i.prototype.PartialStatement=i.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e.default=i,t.exports=e.default},function(t,e,n){"use strict";function i(){this.parents=[]}function o(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")}function r(t){o.call(this,t),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")}function s(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")}var a=n(1).default;e.__esModule=!0;var l=n(6),c=a(l);i.prototype={constructor:i,mutating:!1,acceptKey:function(t,e){var n=this.accept(t[e]);if(this.mutating){if(n&&!i.prototype[n.type])throw new c.default('Unexpected node type "'+n.type+'" found when accepting '+e+" on "+t.type);t[e]=n}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new c.default(t.type+" requires "+e)},acceptArray:function(t){for(var e=0,n=t.length;e<n;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,n--)},accept:function(t){if(t){if(!this[t.type])throw new c.default("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:!1!==e?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:o,Decorator:o,BlockStatement:r,DecoratorBlock:r,PartialStatement:s,PartialBlockStatement:function(t){s.call(this,t),this.acceptKey(t,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:o,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e.default=i,t.exports=e.default},function(t,e,n){"use strict";function i(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var n={loc:t.path.loc};throw new v.default(t.path.original+" doesn't match "+e,n)}}function o(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}}function r(t){return/^\[.*\]$/.test(t)?t.substr(1,t.length-2):t}function s(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}}function a(t){return t.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function l(t,e,n){n=this.locInfo(n);for(var i=t?"@":"",o=[],r=0,s="",a=0,l=e.length;a<l;a++){var c=e[a].part,u=e[a].original!==c;if(i+=(e[a].separator||"")+c,u||".."!==c&&"."!==c&&"this"!==c)o.push(c);else{if(o.length>0)throw new v.default("Invalid path: "+i,{loc:n});".."===c&&(r++,s+="../")}}return{type:"PathExpression",data:t,depth:r,parts:o,original:i,loc:n}}function c(t,e,n,i,o,r){var s=i.charAt(3)||i.charAt(2),a="{"!==s&&"&"!==s;return{type:/\*/.test(i)?"Decorator":"MustacheStatement",path:t,params:e,hash:n,escaped:a,strip:o,loc:this.locInfo(r)}}function u(t,e,n,o){i(t,n),o=this.locInfo(o);var r={type:"Program",body:e,strip:{},loc:o};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:r,openStrip:{},inverseStrip:{},closeStrip:{},loc:o}}function h(t,e,n,o,r,s){o&&o.path&&i(t,o);var a=/\*/.test(t.open);e.blockParams=t.blockParams;var l=void 0,c=void 0;if(n){if(a)throw new v.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=o.strip),c=n.strip,l=n.program}return r&&(r=l,l=e,e=r),{type:a?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:l,openStrip:t.strip,inverseStrip:c,closeStrip:o&&o.strip,loc:this.locInfo(s)}}function d(t,e){if(!e&&t.length){var n=t[0].loc,i=t[t.length-1].loc;n&&i&&(e={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:t,strip:{},loc:e}}function p(t,e,n,o){return i(t,n),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:n&&n.strip,loc:this.locInfo(o)}}var f=n(1).default;e.__esModule=!0,e.SourceLocation=o,e.id=r,e.stripFlags=s,e.stripComment=a,e.preparePath=l,e.prepareMustache=c,e.prepareRawBlock=u,e.prepareBlock=h,e.prepareProgram=d,e.preparePartialBlock=p;var m=n(6),v=f(m)},function(t,e,n){"use strict";function i(){}function o(t,e,n){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new u.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var i=n.parse(t,e),o=(new n.Compiler).compile(i,e);return(new n.JavaScriptCompiler).compile(o,e)}function r(t,e,n){function i(){var i=n.parse(t,e),o=(new n.Compiler).compile(i,e),r=(new n.JavaScriptCompiler).compile(o,e,void 0,!0);return n.template(r)}function o(t,e){return r||(r=i()),r.call(this,t,e)}if(void 0===e&&(e={}),null==t||"string"!=typeof t&&"Program"!==t.type)throw new u.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var r=void 0;return o._setup=function(t){return r||(r=i()),r._setup(t)},o._child=function(t,e,n,o){return r||(r=i()),r._child(t,e,n,o)},o}function s(t,e){if(t===e)return!0;if(h.isArray(t)&&h.isArray(e)&&t.length===e.length){for(var n=0;n<t.length;n++)if(!s(t[n],e[n]))return!1;return!0}}function a(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}var l=n(1).default;e.__esModule=!0,e.Compiler=i,e.precompile=o,e.compile=r;var c=n(6),u=l(c),h=n(5),d=n(24),p=l(d),f=[].slice;i.prototype={compiler:i,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var n=0;n<e;n++){var i=this.opcodes[n],o=t.opcodes[n];if(i.opcode!==o.opcode||!s(i.args,o.args))return!1}e=this.children.length;for(var n=0;n<e;n++)if(!this.children[n].equals(t.children[n]))return!1;return!0},guid:0,compile:function(t,e){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[];var n=e.knownHelpers;if(e.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},n)for(var i in n)i in n&&(e.knownHelpers[i]=n[i]);return this.accept(t)},compileProgram:function(t){var e=new this.compiler,n=e.compile(t,this.options),i=this.guid++;return this.usePartial=this.usePartial||n.usePartial,this.children[i]=n,this.useDepths=this.useDepths||n.useDepths,i},accept:function(t){if(!this[t.type])throw new u.default("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,n=e.length,i=0;i<n;i++)this.accept(e[i]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){a(t);var e=t.program,n=t.inverse;e=e&&this.compileProgram(e),n=n&&this.compileProgram(n);var i=this.classifySexpr(t);"helper"===i?this.helperSexpr(t,e,n):"simple"===i?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,n),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(t){var e=t.program&&this.compileProgram(t.program),n=this.setupFullMustacheParams(t,e,void 0),i=t.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function(t){this.usePartial=!0;var e=t.program;e&&(e=this.compileProgram(t.program));var n=t.params;if(n.length>1)throw new u.default("Unsupported number of partial arguments: "+n.length,t);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=t.name.original,o="SubExpression"===t.name.type;o&&this.accept(t.name),this.setupFullMustacheParams(t,e,void 0,!0);var r=t.indent||"";this.options.preventIndent&&r&&(this.opcode("appendContent",r),r=""),this.opcode("invokePartial",o,i,r),this.opcode("append")},PartialBlockStatement:function(t){this.PartialStatement(t)},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(t){this.DecoratorBlock(t)},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){a(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,n){var i=t.path,o=i.parts[0],r=null!=e||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",o,r)},simpleSexpr:function(t){var e=t.path;e.strict=!0,this.accept(e),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,n){var i=this.setupFullMustacheParams(t,e,n),o=t.path,r=o.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",i.length,r);else{if(this.options.knownHelpersOnly)throw new u.default("You specified knownHelpersOnly, but used the unknown helper "+r,t);o.strict=!0,o.falsy=!0,this.accept(o),this.opcode("invokeHelper",i.length,o.original,p.default.helpers.simpleId(o))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],n=p.default.helpers.scopedId(t),i=!t.depth&&!n&&this.blockParamIndex(e);i?this.opcode("lookupBlockParam",i,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts,t.strict)):this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,n):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,n=0,i=e.length;for(this.opcode("pushHash");n<i;n++)this.pushParam(e[n].value);for(;n--;)this.opcode("assignToHash",e[n].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:f.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=p.default.helpers.simpleId(t.path),n=e&&!!this.blockParamIndex(t.path.parts[0]),i=!n&&p.default.helpers.helperExpression(t),o=!n&&(i||e);if(o&&!i){var r=t.path.parts[0],s=this.options;s.knownHelpers[r]?i=!0:s.knownHelpersOnly&&(o=!1)}return i?"helper":o?"ambiguous":"simple"},pushParams:function(t){for(var e=0,n=t.length;e<n;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var n=void 0;if(!t.parts||p.default.helpers.scopedId(t)||t.depth||(n=this.blockParamIndex(t.parts[0])),n){var i=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else e=t.original||e,e.replace&&(e=e.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,n,i){var o=t.params;return this.pushParams(o),this.opcode("pushProgram",e),this.opcode("pushProgram",n),t.hash?this.accept(t.hash):this.opcode("emptyHash",i),o},blockParamIndex:function(t){for(var e=0,n=this.options.blockParams.length;e<n;e++){var i=this.options.blockParams[e],o=i&&h.indexOf(i,t);if(i&&o>=0)return[e,o]}}}},function(t,e,n){"use strict";function i(t){this.value=t}function o(){}function r(t,e,n,i){var o=e.popStack(),r=0,s=n.length;for(t&&s--;r<s;r++)o=e.nameLookup(o,n[r],i);return t?[e.aliasable("container.strict"),"(",o,", ",e.quotedString(n[r]),")"]:o}var s=n(1).default;e.__esModule=!0;var a=n(4),l=n(6),c=s(l),u=n(5),h=n(32),d=s(h);o.prototype={nameLookup:function(t,e){return o.isValidJavaScriptVariableName(e)?[t,".",e]:[t,"[",JSON.stringify(e),"]"]},depthedLookup:function(t){return[this.aliasable("container.lookup"),'(depths, "',t,'")']},compilerInfo:function(){var t=a.COMPILER_REVISION;return[t,a.REVISION_CHANGES[t]]},appendToBuffer:function(t,e,n){return u.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:n?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},compile:function(t,e,n,i){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var o=t.opcodes,r=void 0,s=void 0,a=void 0,l=void 0;for(a=0,l=o.length;a<l;a++)r=o[a],this.source.currentLocation=r.loc,s=s||r.loc,this[r.opcode].apply(this,r.args);if(this.source.currentLocation=s,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new c.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var u=this.createFunctionContext(i);if(this.isChild)return u;var h={compiler:this.compilerInfo(),main:u};this.decorators&&(h.main_d=this.decorators,h.useDecorators=!0);var d=this.context,p=d.programs,f=d.decorators;for(a=0,l=p.length;a<l;a++)p[a]&&(h[a]=p[a],f[a]&&(h[a+"_d"]=f[a],h.useDecorators=!0));return this.environment.usePartial&&(h.usePartial=!0),this.options.data&&(h.useData=!0),this.useDepths&&(h.useDepths=!0),this.useBlockParams&&(h.useBlockParams=!0),this.options.compat&&(h.compat=!0),i?h.compilerOptions=this.options:(h.compiler=JSON.stringify(h.compiler),this.source.currentLocation={start:{line:1,column:0}},h=this.objectLiteral(h),e.srcName?(h=h.toStringWithSourceMap({file:e.destName}),h.map=h.map&&""+h.map):h=""+h),h},preamble:function(){this.lastContext=0,this.source=new d.default(this.options.srcName),this.decorators=new d.default(this.options.srcName)},createFunctionContext:function(t){var e="",n=this.stackVars.concat(this.registers.list);n.length>0&&(e+=", "+n.join(", "));var i=0;for(var o in this.aliases){var r=this.aliases[o];this.aliases.hasOwnProperty(o)&&r.children&&r.referenceCount>1&&(e+=", alias"+ ++i+"="+o,r.children[0]="alias"+i)}var s=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&s.push("blockParams"),this.useDepths&&s.push("depths");var a=this.mergeSource(e);return t?(s.push(a),Function.apply(this,s)):this.source.wrap(["function(",s.join(","),") {\n  ",a,"}"])},mergeSource:function(t){var e=this.environment.isSimple,n=!this.forceBuffer,i=void 0,o=void 0,r=void 0,s=void 0;return this.source.each(function(t){t.appendToBuffer?(r?t.prepend("  + "):r=t,s=t):(r&&(o?r.prepend("buffer += "):i=!0,s.add(";"),r=s=void 0),o=!0,e||(n=!1))}),n?r?(r.prepend("return "),s.add(";")):o||this.source.push('return "";'):(t+=", buffer = "+(i?"":this.initializeBuffer()),r?(r.prepend("return buffer + "),s.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(i?"":";\n")),this.source.merge()},blockValue:function(t){var e=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(t,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(e,"call",n))},ambiguousBlockValue:function(){var t=this.aliasable("helpers.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var n=this.topStack();e.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack(function(t){return[" != null ? ",t,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,n,i){var o=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[o++])),this.resolvePath("context",t,o,e,n)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e,n){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0,n)},resolvePath:function(t,e,n,i,o){var s=this;if(this.options.strict||this.options.assumeObjects)return void this.push(r(this.options.strict&&o,this,e,t));for(var a=e.length;n<a;n++)this.replaceStack(function(o){var r=s.nameLookup(o,e[n],t);return i?[" && ",r]:[" != null ? ",r," : ",o]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function(t,e){var n=this.nameLookup("decorators",e,"decorator"),i=this.setupHelperArgs(e,t);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",i])," || fn;"])},invokeHelper:function(t,e,n){var i=this.popStack(),o=this.setupHelper(t,e),r=n?[o.name," || "]:"",s=["("].concat(r,i);this.options.strict||s.push(" || ",this.aliasable("helpers.helperMissing")),s.push(")"),this.push(this.source.functionCall(s,"call",o.callParams))},invokeKnownHelper:function(t,e){var n=this.setupHelper(t,e);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,t,e),o=this.lastHelper=this.nameLookup("helpers",t,"helper"),r=["(","(helper = ",o," || ",n,")"];this.options.strict||(r[0]="(helper = ",r.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",r,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(t,e,n){var i=[],o=this.setupParams(e,1,i);t&&(e=this.popStack(),delete o.name),n&&(o.indent=JSON.stringify(n)),o.helpers="helpers",o.partials="partials",o.decorators="container.decorators",t?i.unshift(e):i.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(o.depths="depths"),o=this.objectLiteral(o),i.push(o),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function(t){var e=this.popStack(),n=void 0,i=void 0,o=void 0;this.trackIds&&(o=this.popStack()),this.stringParams&&(i=this.popStack(),n=this.popStack());var r=this.hash;n&&(r.contexts[t]=n),i&&(r.types[t]=i),o&&(r.ids[t]=o),r.values[t]=e},pushId:function(t,e,n){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:o,compileChildren:function(t,e){for(var n=t.children,i=void 0,o=void 0,r=0,s=n.length;r<s;r++){i=n[r],o=new this.compiler;var a=this.matchExistingProgram(i);if(null==a){this.context.programs.push("");var l=this.context.programs.length;i.index=l,i.name="program"+l,this.context.programs[l]=o.compile(i,e,this.context,!this.precompile),this.context.decorators[l]=o.decorators,this.context.environments[l]=i,this.useDepths=this.useDepths||o.useDepths,this.useBlockParams=this.useBlockParams||o.useBlockParams,i.useDepths=this.useDepths,i.useBlockParams=this.useBlockParams}else i.index=a.index,i.name="program"+a.index,this.useDepths=this.useDepths||a.useDepths,this.useBlockParams=this.useBlockParams||a.useBlockParams}},matchExistingProgram:function(t){for(var e=0,n=this.context.environments.length;e<n;e++){var i=this.context.environments[e];if(i&&i.equals(t))return i}},programExpression:function(t){var e=this.environment.children[t],n=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof i||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new i(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],n=void 0,o=void 0,r=void 0;if(!this.isInline())throw new c.default("replaceStack on non-inline");var s=this.popStack(!0);if(s instanceof i)n=[s.value],e=["(",n],r=!0;else{o=!0;var a=this.incrStack();e=["((",this.push(a)," = ",s,")"],n=this.topStack()}var l=t.call(this,n);r||this.popStack(),o&&this.stackSlot--,this.push(e.concat(l,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,n=t.length;e<n;e++){var o=t[e];if(o instanceof i)this.compileStack.push(o);else{var r=this.incrStack();this.pushSource([r," = ",o,";"]),this.compileStack.push(r)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),n=(e?this.inlineStack:this.compileStack).pop();if(!t&&n instanceof i)return n.value;if(!e){if(!this.stackSlot)throw new c.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof i?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):(e=this.aliases[t]=this.source.wrap(t),e.aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,n){var i=[];return{params:i,paramsInit:this.setupHelperArgs(e,t,i,n),name:this.nameLookup("helpers",e,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}")].concat(i)}},setupParams:function(t,e,n){var i={},o=[],r=[],s=[],a=!n,l=void 0;a&&(n=[]),i.name=this.quotedString(t),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var c=this.popStack(),u=this.popStack();(u||c)&&(i.fn=u||"container.noop",i.inverse=c||"container.noop");for(var h=e;h--;)l=this.popStack(),n[h]=l,this.trackIds&&(s[h]=this.popStack()),this.stringParams&&(r[h]=this.popStack(),o[h]=this.popStack());return a&&(i.args=this.source.generateArray(n)),this.trackIds&&(i.ids=this.source.generateArray(s)),this.stringParams&&(i.types=this.source.generateArray(r),i.contexts=this.source.generateArray(o)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function(t,e,n,i){var o=this.setupParams(t,e,n);return o=this.objectLiteral(o),i?(this.useRegister("options"),n.push("options"),["options=",o]):n?(n.push(o),""):o}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=o.RESERVED_WORDS={},n=0,i=t.length;n<i;n++)e[t[n]]=!0}(),o.isValidJavaScriptVariableName=function(t){return!o.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e.default=o,t.exports=e.default},function(t,e,n){"use strict";function i(t,e,n){if(r.isArray(t)){for(var i=[],o=0,s=t.length;o<s;o++)i.push(e.wrap(t[o],n));return i}return"boolean"==typeof t||"number"==typeof t?t+"":t}function o(t){this.srcFile=t,this.source=[]}e.__esModule=!0;var r=n(5),s=void 0;s||(s=function(t,e,n,i){this.src="",i&&this.add(i)},s.prototype={add:function(t){r.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){r.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:""+this}},toString:function(){return this.src}}),o.prototype={isEmpty:function(){return!this.source.length},prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each(function(e){t.add(["  ",e,"\n"])}),t},each:function(t){for(var e=0,n=this.source.length;e<n;e++)t(this.source[e])},empty:function(){var t=this.currentLocation||{start:{}};return new s(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof s?t:(t=i(t,this,e),new s(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,n){return n=this.generateList(n),this.wrap([t,e?"."+e+"(":"(",n,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var o=i(t[n],this);"undefined"!==o&&e.push([this.quotedString(n),":",o])}var r=this.generateList(e);return r.prepend("{"),r.add("}"),r},generateList:function(t){for(var e=this.empty(),n=0,o=t.length;n<o;n++)n&&e.add(","),e.add(i(t[n],this));return e},generateArray:function(t){var e=this.generateList(t);return e.prepend("["),e.add("]"),e}},e.default=o,t.exports=e.default}])})},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),o=(n(9),n(6)),r=function(t,e,n){function r(t){p&&e.confirmButtonColor&&(d.style.backgroundColor=t)}var l,c,u,h=t||window.event,d=h.target||h.srcElement,p=-1!==d.className.indexOf("confirm"),f=-1!==d.className.indexOf("sweet-overlay"),m=o.hasClass(n,"visible"),v=e.doneFunction&&"true"===n.getAttribute("data-has-done-function");switch(p&&e.confirmButtonColor&&(l=e.confirmButtonColor,c=i.colorLuminance(l,-.04),u=i.colorLuminance(l,-.14)),h.type){case"mouseover":r(c);break;case"mouseout":r(l);break;case"mousedown":r(u);break;case"mouseup":r(c);break;case"focus":var g=n.querySelector("button.confirm"),y=n.querySelector("button.cancel");p?y.style.boxShadow="none":g.style.boxShadow="none";break;case"click":var b=n===d,_=o.isDescendant(n,d);if(!b&&!_&&m&&!e.allowOutsideClick)break;p&&v&&m?s(n,e):v&&m||f?a(n,e):o.isDescendant(n,d)&&"BUTTON"===d.tagName&&sweetAlert.close()}},s=function(t,e){var n=!0;o.hasClass(t,"show-input")&&((n=t.querySelector("input").value)||(n="")),e.doneFunction(n),e.closeOnConfirm&&sweetAlert.close(),e.showLoaderOnConfirm&&sweetAlert.disableButtons()},a=function(t,e){var n=(e.doneFunction+"").replace(/\s/g,"");"function("===n.substring(0,9)&&")"!==n.substring(9,10)&&e.doneFunction(!1),e.closeOnCancel&&sweetAlert.close()};e.default={handleButton:r,handleConfirm:s,handleCancel:a},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),o=n(9),r=function(t,e,n){var r=t||window.event,s=r.keyCode||r.which,a=n.querySelector("button.confirm"),l=n.querySelector("button.cancel"),c=n.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(s)){for(var u=r.target||r.srcElement,h=-1,d=0;d<c.length;d++)if(u===c[d]){h=d;break}9===s?(u=-1===h?a:h===c.length-1?c[0]:c[h+1],i.stopEventPropagation(r),u.focus(),e.confirmButtonColor&&o.setFocusStyle(u,e.confirmButtonColor)):13===s?("INPUT"===u.tagName&&(u=a,a.focus()),u=-1===h?a:void 0):27===s&&!0===e.allowEscapeKey?(u=l,i.fireClick(u,r)):u=void 0}};e.default=r,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>',t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),o=n(9),r=n(6),s=["error","warning","info","success","input","prompt"],a=function(t){var e=o.getModal(),n=e.querySelector("h2"),a=e.querySelector("p"),l=e.querySelector("button.cancel"),c=e.querySelector("button.confirm");if(n.innerHTML=t.html?t.title:r.escapeHtml(t.title).split("\n").join("<br>"),a.innerHTML=t.html?t.text:r.escapeHtml(t.text||"").split("\n").join("<br>"),t.text&&r.show(a),t.customClass)r.addClass(e,t.customClass),e.setAttribute("data-custom-class",t.customClass);else{var u=e.getAttribute("data-custom-class");r.removeClass(e,u),e.setAttribute("data-custom-class","")}if(r.hide(e.querySelectorAll(".sa-icon")),t.type&&!i.isIE8()){var h=function(){for(var n=!1,i=0;i<6;i++)if(t.type===s[i]){n=!0;break}if(!n)return logStr("Unknown alert type: "+t.type),{v:!1};var a=["success","error","warning","info"],l=void 0;-1!==a.indexOf(t.type)&&(l=e.querySelector(".sa-icon.sa-"+t.type),r.show(l));var c=o.getInput();switch(t.type){case"success":r.addClass(l,"animate"),r.addClass(l.querySelector(".sa-tip"),"animateSuccessTip"),r.addClass(l.querySelector(".sa-long"),"animateSuccessLong");break;case"error":r.addClass(l,"animateErrorIcon"),r.addClass(l.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":r.addClass(l,"pulseWarning"),r.addClass(l.querySelector(".sa-body"),"pulseWarningIns"),r.addClass(l.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":c.setAttribute("type",t.inputType),c.value=t.inputValue,c.setAttribute("placeholder",t.inputPlaceholder),r.addClass(e,"show-input"),setTimeout(function(){c.focus(),c.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof h)return h.v}if(t.imageUrl){var d=e.querySelector(".sa-icon.sa-custom");d.style.backgroundImage="url("+t.imageUrl+")",r.show(d);var p=80,f=80;if(t.imageSize){var m=(""+t.imageSize).split("x"),v=m[0],g=m[1];v&&g?(p=v,f=g):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+t.imageSize)}d.setAttribute("style",d.getAttribute("style")+"width:"+p+"px; height:"+f+"px")}e.setAttribute("data-has-cancel-button",t.showCancelButton),t.showCancelButton?l.style.display="inline-block":r.hide(l),e.setAttribute("data-has-confirm-button",t.showConfirmButton),t.showConfirmButton?c.style.display="inline-block":r.hide(c),t.cancelButtonText&&(l.innerHTML=r.escapeHtml(t.cancelButtonText)),t.confirmButtonText&&(c.innerHTML=r.escapeHtml(t.confirmButtonText)),t.confirmButtonColor&&(c.style.backgroundColor=t.confirmButtonColor,c.style.borderLeftColor=t.confirmLoadingButtonColor,c.style.borderRightColor=t.confirmLoadingButtonColor,o.setFocusStyle(c,t.confirmButtonColor)),e.setAttribute("data-allow-outside-click",t.allowOutsideClick);var y=!!t.doneFunction;e.setAttribute("data-has-done-function",y),t.animation?"string"==typeof t.animation?e.setAttribute("data-animation",t.animation):e.setAttribute("data-animation","pop"):e.setAttribute("data-animation","none"),e.setAttribute("data-timer",t.timer)};e.default=a,t.exports=e.default},function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o,r,s,a,l=n(6),c=n(10),u=n(9),h=n(130),d=n(131),p=i(d),f=n(27),m=i(f),v=n(133),g=i(v);e.default=s=a=function(){function t(t){var n=e;return void 0===n[t]?m.default[t]:n[t]}var e=arguments[0];if(l.addClass(document.body,"stop-scrolling"),u.resetInput(),void 0===e)return c.logStr("SweetAlert expects at least 1 attribute!"),!1;var n=c.extend({},m.default);switch(typeof e){case"string":n.title=e,n.text=arguments[1]||"",n.type=arguments[2]||"";break;case"object":if(void 0===e.title)return c.logStr('Missing "title" argument!'),!1;n.title=e.title;for(var i in m.default)n[i]=t(i);n.confirmButtonText=n.showCancelButton?"Confirm":m.default.confirmButtonText,n.confirmButtonText=t("confirmButtonText"),n.doneFunction=arguments[1]||null;break;default:return c.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof e),!1}g.default(n),u.fixVerticalPosition(),u.openModal(arguments[1]);for(var s=u.getModal(),d=s.querySelectorAll("button"),f=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],v=function(t){return h.handleButton(t,n,s)},y=0;y<d.length;y++)for(var b=0;b<6;b++){var _=f[b];d[y][_]=v}u.getOverlay().onclick=v,o=window.onkeydown;var k=function(t){return p.default(t,n,s)};window.onkeydown=k,window.onfocus=function(){setTimeout(function(){void 0!==r&&(r.focus(),r=void 0)},0)},a.enableButtons()},s.setDefaults=a.setDefaults=function(t){if(!t)throw Error("userParams is required");if("object"!=typeof t)throw Error("userParams has to be a object");c.extend(m.default,t)},s.close=a.close=function(){var t=u.getModal();l.fadeOut(u.getOverlay(),5),l.fadeOut(t,5),l.removeClass(t,"showSweetAlert"),l.addClass(t,"hideSweetAlert"),l.removeClass(t,"visible");var e=t.querySelector(".sa-icon.sa-success");l.removeClass(e,"animate"),l.removeClass(e.querySelector(".sa-tip"),"animateSuccessTip"),l.removeClass(e.querySelector(".sa-long"),"animateSuccessLong");var n=t.querySelector(".sa-icon.sa-error");l.removeClass(n,"animateErrorIcon"),l.removeClass(n.querySelector(".sa-x-mark"),"animateXMark");var i=t.querySelector(".sa-icon.sa-warning");return l.removeClass(i,"pulseWarning"),l.removeClass(i.querySelector(".sa-body"),"pulseWarningIns"),l.removeClass(i.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var e=t.getAttribute("data-custom-class");l.removeClass(t,e)},300),l.removeClass(document.body,"stop-scrolling"),window.onkeydown=o,window.previousActiveElement&&window.previousActiveElement.focus(),r=void 0,clearTimeout(t.timeout),!0},s.showInputError=a.showInputError=function(t){var e=u.getModal(),n=e.querySelector(".sa-input-error");l.addClass(n,"show");var i=e.querySelector(".sa-error-container");l.addClass(i,"show"),i.querySelector("p").innerHTML=t,setTimeout(function(){s.enableButtons()},1),e.querySelector("input").focus()},s.resetInputError=a.resetInputError=function(t){if(t&&13===t.keyCode)return!1;var e=u.getModal(),n=e.querySelector(".sa-input-error");l.removeClass(n,"show");var i=e.querySelector(".sa-error-container");l.removeClass(i,"show")},s.disableButtons=a.disableButtons=function(t){var e=u.getModal(),n=e.querySelector("button.confirm"),i=e.querySelector("button.cancel");n.disabled=!0,i.disabled=!0},s.enableButtons=a.enableButtons=function(t){var e=u.getModal(),n=e.querySelector("button.confirm"),i=e.querySelector("button.cancel");n.disabled=!1,i.disabled=!1},"undefined"!=typeof window?window.sweetAlert=window.swal=s:c.logStr("SweetAlert is a frontend module!"),t.exports=e.default},,,function(t,e,n){n(7),t.exports=n(28)}]);